/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/stock-movements/route";
exports.ids = ["app/api/stock-movements/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fstock-movements%2Froute&page=%2Fapi%2Fstock-movements%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstock-movements%2Froute.ts&appDir=D%3A%5C3RD%20YEAR%5Ccv%5Cfreelance%5CMNSTS-IMS%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5C3RD%20YEAR%5Ccv%5Cfreelance%5CMNSTS-IMS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fstock-movements%2Froute&page=%2Fapi%2Fstock-movements%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstock-movements%2Froute.ts&appDir=D%3A%5C3RD%20YEAR%5Ccv%5Cfreelance%5CMNSTS-IMS%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5C3RD%20YEAR%5Ccv%5Cfreelance%5CMNSTS-IMS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/./node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/./node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/./node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/./node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var D_3RD_YEAR_cv_freelance_MNSTS_IMS_src_app_api_stock_movements_route_ts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./src/app/api/stock-movements/route.ts */ \"(rsc)/./src/app/api/stock-movements/route.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/stock-movements/route\",\n        pathname: \"/api/stock-movements\",\n        filename: \"route\",\n        bundlePath: \"app/api/stock-movements/route\"\n    },\n    distDir: \".next\" || 0,\n    relativeProjectDir:  false || '',\n    resolvedPagePath: \"D:\\\\3RD YEAR\\\\cv\\\\freelance\\\\MNSTS-IMS\\\\src\\\\app\\\\api\\\\stock-movements\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_3RD_YEAR_cv_freelance_MNSTS_IMS_src_app_api_stock_movements_route_ts__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/stock-movements/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = false;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                cacheComponents: Boolean(nextConfig.experimental.cacheComponents),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        // if we aren't wrapped by base-server handle here\n        if (!activeSpan && !(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZzdG9jay1tb3ZlbWVudHMlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnN0b2NrLW1vdmVtZW50cyUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnN0b2NrLW1vdmVtZW50cyUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDM1JEJTIwWUVBUiU1Q2N2JTVDZnJlZWxhbmNlJTVDTU5TVFMtSU1TJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1EJTNBJTVDM1JEJTIwWUVBUiU1Q2N2JTVDZnJlZWxhbmNlJTVDTU5TVFMtSU1TJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEJmlzR2xvYmFsTm90Rm91bmRFbmFibGVkPSEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDZDtBQUNTO0FBQ087QUFDSztBQUNtQztBQUNqRDtBQUNPO0FBQ2Y7QUFDc0M7QUFDekI7QUFDTTtBQUNDO0FBQ2hCO0FBQzJDO0FBQzdHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLGFBQWEsT0FBb0MsSUFBSSxDQUFFO0FBQ3ZELHdCQUF3QixNQUF1QztBQUMvRDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENB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QWtCLDZFQUFZO0FBQzlCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWLDZFQUE2RSxnRkFBYztBQUMzRixpQ0FBaUMsUUFBUSxFQUFFLFFBQVE7QUFDbkQsMEJBQTBCLHVFQUFRO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsNENBQTRDLDZGQUFlO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDJGQUFtQjtBQUNyRDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyw2RUFBWTtBQUMxQjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgeyBnZXRSZXF1ZXN0TWV0YSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JlcXVlc3QtbWV0YVwiO1xuaW1wb3J0IHsgZ2V0VHJhY2VyLCBTcGFuS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi90cmFjZS90cmFjZXJcIjtcbmltcG9ydCB7IG5vcm1hbGl6ZUFwcFBhdGggfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvcm91dGVyL3V0aWxzL2FwcC1wYXRoc1wiO1xuaW1wb3J0IHsgTm9kZU5leHRSZXF1ZXN0LCBOb2RlTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvYmFzZS1odHRwL25vZGVcIjtcbmltcG9ydCB7IE5leHRSZXF1ZXN0QWRhcHRlciwgc2lnbmFsRnJvbU5vZGVSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3dlYi9zcGVjLWV4dGVuc2lvbi9hZGFwdGVycy9uZXh0LXJlcXVlc3RcIjtcbmltcG9ydCB7IEJhc2VTZXJ2ZXJTcGFuIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgZ2V0UmV2YWxpZGF0ZVJlYXNvbiB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2luc3RydW1lbnRhdGlvbi91dGlsc1wiO1xuaW1wb3J0IHsgc2VuZFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvc2VuZC1yZXNwb25zZVwiO1xuaW1wb3J0IHsgZnJvbU5vZGVPdXRnb2luZ0h0dHBIZWFkZXJzLCB0b05vZGVPdXRnb2luZ0h0dHBIZWFkZXJzIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvd2ViL3V0aWxzXCI7XG5pbXBvcnQgeyBnZXRDYWNoZUNvbnRyb2xIZWFkZXIgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvY2FjaGUtY29udHJvbFwiO1xuaW1wb3J0IHsgSU5GSU5JVEVfQ0FDSEUsIE5FWFRfQ0FDSEVfVEFHU19IRUFERVIgfSBmcm9tIFwibmV4dC9kaXN0L2xpYi9jb25zdGFudHNcIjtcbmltcG9ydCB7IE5vRmFsbGJhY2tFcnJvciB9IGZyb20gXCJuZXh0L2Rpc3Qvc2hhcmVkL2xpYi9uby1mYWxsYmFjay1lcnJvci5leHRlcm5hbFwiO1xuaW1wb3J0IHsgQ2FjaGVkUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcmVzcG9uc2UtY2FjaGVcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJEOlxcXFwzUkQgWUVBUlxcXFxjdlxcXFxmcmVlbGFuY2VcXFxcTU5TVFMtSU1TXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHN0b2NrLW1vdmVtZW50c1xcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvc3RvY2stbW92ZW1lbnRzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvc3RvY2stbW92ZW1lbnRzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9zdG9jay1tb3ZlbWVudHMvcm91dGVcIlxuICAgIH0sXG4gICAgZGlzdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX0RJU1RfRElSIHx8ICcnLFxuICAgIHJlbGF0aXZlUHJvamVjdERpcjogcHJvY2Vzcy5lbnYuX19ORVhUX1JFTEFUSVZFX1BST0pFQ1RfRElSIHx8ICcnLFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRDpcXFxcM1JEIFlFQVJcXFxcY3ZcXFxcZnJlZWxhbmNlXFxcXE1OU1RTLUlNU1xcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxzdG9jay1tb3ZlbWVudHNcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcywgY3R4KSB7XG4gICAgdmFyIF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbDtcbiAgICBsZXQgc3JjUGFnZSA9IFwiL2FwaS9zdG9jay1tb3ZlbWVudHMvcm91dGVcIjtcbiAgICAvLyB0dXJib3BhY2sgZG9lc24ndCBub3JtYWxpemUgYC9pbmRleGAgaW4gdGhlIHBhZ2UgbmFtZVxuICAgIC8vIHNvIHdlIG5lZWQgdG8gdG8gcHJvY2VzcyBkeW5hbWljIHJvdXRlcyBwcm9wZXJseVxuICAgIC8vIFRPRE86IGZpeCB0dXJib3BhY2sgcHJvdmlkaW5nIGRpZmZlcmluZyB2YWx1ZSBmcm9tIHdlYnBhY2tcbiAgICBpZiAocHJvY2Vzcy5lbnYuVFVSQk9QQUNLKSB7XG4gICAgICAgIHNyY1BhZ2UgPSBzcmNQYWdlLnJlcGxhY2UoL1xcL2luZGV4JC8sICcnKSB8fCAnLyc7XG4gICAgfSBlbHNlIGlmIChzcmNQYWdlID09PSAnL2luZGV4Jykge1xuICAgICAgICAvLyB3ZSBhbHdheXMgbm9ybWFsaXplIC9pbmRleCBzcGVjaWZpY2FsbHlcbiAgICAgICAgc3JjUGFnZSA9ICcvJztcbiAgICB9XG4gICAgY29uc3QgbXVsdGlab25lRHJhZnRNb2RlID0gcHJvY2Vzcy5lbnYuX19ORVhUX01VTFRJX1pPTkVfRFJBRlRfTU9ERTtcbiAgICBjb25zdCBwcmVwYXJlUmVzdWx0ID0gYXdhaXQgcm91dGVNb2R1bGUucHJlcGFyZShyZXEsIHJlcywge1xuICAgICAgICBzcmNQYWdlLFxuICAgICAgICBtdWx0aVpvbmVEcmFmdE1vZGVcbiAgICB9KTtcbiAgICBpZiAoIXByZXBhcmVSZXN1bHQpIHtcbiAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDA7XG4gICAgICAgIHJlcy5lbmQoJ0JhZCBSZXF1ZXN0Jyk7XG4gICAgICAgIGN0eC53YWl0VW50aWwgPT0gbnVsbCA/IHZvaWQgMCA6IGN0eC53YWl0VW50aWwuY2FsbChjdHgsIFByb21pc2UucmVzb2x2ZSgpKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHsgYnVpbGRJZCwgcGFyYW1zLCBuZXh0Q29uZmlnLCBpc0RyYWZ0TW9kZSwgcHJlcmVuZGVyTWFuaWZlc3QsIHJvdXRlclNlcnZlckNvbnRleHQsIGlzT25EZW1hbmRSZXZhbGlkYXRlLCByZXZhbGlkYXRlT25seUdlbmVyYXRlZCwgcmVzb2x2ZWRQYXRobmFtZSB9ID0gcHJlcGFyZVJlc3VsdDtcbiAgICBjb25zdCBub3JtYWxpemVkU3JjUGFnZSA9IG5vcm1hbGl6ZUFwcFBhdGgoc3JjUGFnZSk7XG4gICAgbGV0IGlzSXNyID0gQm9vbGVhbihwcmVyZW5kZXJNYW5pZmVzdC5keW5hbWljUm91dGVzW25vcm1hbGl6ZWRTcmNQYWdlXSB8fCBwcmVyZW5kZXJNYW5pZmVzdC5yb3V0ZXNbcmVzb2x2ZWRQYXRobmFtZV0pO1xuICAgIGlmIChpc0lzciAmJiAhaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgY29uc3QgaXNQcmVyZW5kZXJlZCA9IEJvb2xlYW4ocHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW3Jlc29sdmVkUGF0aG5hbWVdKTtcbiAgICAgICAgY29uc3QgcHJlcmVuZGVySW5mbyA9IHByZXJlbmRlck1hbmlmZXN0LmR5bmFtaWNSb3V0ZXNbbm9ybWFsaXplZFNyY1BhZ2VdO1xuICAgICAgICBpZiAocHJlcmVuZGVySW5mbykge1xuICAgICAgICAgICAgaWYgKHByZXJlbmRlckluZm8uZmFsbGJhY2sgPT09IGZhbHNlICYmICFpc1ByZXJlbmRlcmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vRmFsbGJhY2tFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBjYWNoZUtleSA9IG51bGw7XG4gICAgaWYgKGlzSXNyICYmICFyb3V0ZU1vZHVsZS5pc0RldiAmJiAhaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgY2FjaGVLZXkgPSByZXNvbHZlZFBhdGhuYW1lO1xuICAgICAgICAvLyBlbnN1cmUgL2luZGV4IGFuZCAvIGlzIG5vcm1hbGl6ZWQgdG8gb25lIGtleVxuICAgICAgICBjYWNoZUtleSA9IGNhY2hlS2V5ID09PSAnL2luZGV4JyA/ICcvJyA6IGNhY2hlS2V5O1xuICAgIH1cbiAgICBjb25zdCBzdXBwb3J0c0R5bmFtaWNSZXNwb25zZSA9IC8vIElmIHdlJ3JlIGluIGRldmVsb3BtZW50LCB3ZSBhbHdheXMgc3VwcG9ydCBkeW5hbWljIEhUTUxcbiAgICByb3V0ZU1vZHVsZS5pc0RldiA9PT0gdHJ1ZSB8fCAvLyBJZiB0aGlzIGlzIG5vdCBTU0cgb3IgZG9lcyBub3QgaGF2ZSBzdGF0aWMgcGF0aHMsIHRoZW4gaXQgc3VwcG9ydHNcbiAgICAvLyBkeW5hbWljIEhUTUwuXG4gICAgIWlzSXNyO1xuICAgIC8vIFRoaXMgaXMgYSByZXZhbGlkYXRpb24gcmVxdWVzdCBpZiB0aGUgcmVxdWVzdCBpcyBmb3IgYSBzdGF0aWNcbiAgICAvLyBwYWdlIGFuZCBpdCBpcyBub3QgYmVpbmcgcmVzdW1lZCBmcm9tIGEgcG9zdHBvbmVkIHJlbmRlciBhbmRcbiAgICAvLyBpdCBpcyBub3QgYSBkeW5hbWljIFJTQyByZXF1ZXN0IHRoZW4gaXQgaXMgYSByZXZhbGlkYXRpb25cbiAgICAvLyByZXF1ZXN0LlxuICAgIGNvbnN0IGlzUmV2YWxpZGF0ZSA9IGlzSXNyICYmICFzdXBwb3J0c0R5bmFtaWNSZXNwb25zZTtcbiAgICBjb25zdCBtZXRob2QgPSByZXEubWV0aG9kIHx8ICdHRVQnO1xuICAgIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcigpO1xuICAgIGNvbnN0IGFjdGl2ZVNwYW4gPSB0cmFjZXIuZ2V0QWN0aXZlU2NvcGVTcGFuKCk7XG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgICAgcGFyYW1zLFxuICAgICAgICBwcmVyZW5kZXJNYW5pZmVzdCxcbiAgICAgICAgcmVuZGVyT3B0czoge1xuICAgICAgICAgICAgZXhwZXJpbWVudGFsOiB7XG4gICAgICAgICAgICAgICAgY2FjaGVDb21wb25lbnRzOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmNhY2hlQ29tcG9uZW50cyksXG4gICAgICAgICAgICAgICAgYXV0aEludGVycnVwdHM6IEJvb2xlYW4obmV4dENvbmZpZy5leHBlcmltZW50YWwuYXV0aEludGVycnVwdHMpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VwcG9ydHNEeW5hbWljUmVzcG9uc2UsXG4gICAgICAgICAgICBpbmNyZW1lbnRhbENhY2hlOiBnZXRSZXF1ZXN0TWV0YShyZXEsICdpbmNyZW1lbnRhbENhY2hlJyksXG4gICAgICAgICAgICBjYWNoZUxpZmVQcm9maWxlczogKF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbCA9IG5leHRDb25maWcuZXhwZXJpbWVudGFsKSA9PSBudWxsID8gdm9pZCAwIDogX25leHRDb25maWdfZXhwZXJpbWVudGFsLmNhY2hlTGlmZSxcbiAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgIHdhaXRVbnRpbDogY3R4LndhaXRVbnRpbCxcbiAgICAgICAgICAgIG9uQ2xvc2U6IChjYik9PntcbiAgICAgICAgICAgICAgICByZXMub24oJ2Nsb3NlJywgY2IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQWZ0ZXJUYXNrRXJyb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG9uSW5zdHJ1bWVudGF0aW9uUmVxdWVzdEVycm9yOiAoZXJyb3IsIF9yZXF1ZXN0LCBlcnJvckNvbnRleHQpPT5yb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVycm9yLCBlcnJvckNvbnRleHQsIHJvdXRlclNlcnZlckNvbnRleHQpXG4gICAgICAgIH0sXG4gICAgICAgIHNoYXJlZENvbnRleHQ6IHtcbiAgICAgICAgICAgIGJ1aWxkSWRcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgbm9kZU5leHRSZXEgPSBuZXcgTm9kZU5leHRSZXF1ZXN0KHJlcSk7XG4gICAgY29uc3Qgbm9kZU5leHRSZXMgPSBuZXcgTm9kZU5leHRSZXNwb25zZShyZXMpO1xuICAgIGNvbnN0IG5leHRSZXEgPSBOZXh0UmVxdWVzdEFkYXB0ZXIuZnJvbU5vZGVOZXh0UmVxdWVzdChub2RlTmV4dFJlcSwgc2lnbmFsRnJvbU5vZGVSZXNwb25zZShyZXMpKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBpbnZva2VSb3V0ZU1vZHVsZSA9IGFzeW5jIChzcGFuKT0+e1xuICAgICAgICAgICAgcmV0dXJuIHJvdXRlTW9kdWxlLmhhbmRsZShuZXh0UmVxLCBjb250ZXh0KS5maW5hbGx5KCgpPT57XG4gICAgICAgICAgICAgICAgaWYgKCFzcGFuKSByZXR1cm47XG4gICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgJ2h0dHAuc3RhdHVzX2NvZGUnOiByZXMuc3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgJ25leHQucnNjJzogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByb290U3BhbkF0dHJpYnV0ZXMgPSB0cmFjZXIuZ2V0Um9vdFNwYW5BdHRyaWJ1dGVzKCk7XG4gICAgICAgICAgICAgICAgLy8gV2Ugd2VyZSB1bmFibGUgdG8gZ2V0IGF0dHJpYnV0ZXMsIHByb2JhYmx5IE9URUwgaXMgbm90IGVuYWJsZWRcbiAgICAgICAgICAgICAgICBpZiAoIXJvb3RTcGFuQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpICE9PSBCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5leHBlY3RlZCByb290IHNwYW4gdHlwZSAnJHtyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpfScuIFBsZWFzZSByZXBvcnQgdGhpcyBOZXh0LmpzIGlzc3VlIGh0dHBzOi8vZ2l0aHViLmNvbS92ZXJjZWwvbmV4dC5qc2ApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJvdXRlID0gcm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5yb3V0ZScpO1xuICAgICAgICAgICAgICAgIGlmIChyb3V0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gYCR7bWV0aG9kfSAke3JvdXRlfWA7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAucm91dGUnOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnNwYW5fbmFtZSc6IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShuYW1lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnVwZGF0ZU5hbWUoYCR7bWV0aG9kfSAke3JlcS51cmx9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZVJlc3BvbnNlID0gYXN5bmMgKGN1cnJlbnRTcGFuKT0+e1xuICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X3ZhbHVlO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VHZW5lcmF0b3IgPSBhc3luYyAoeyBwcmV2aW91c0NhY2hlRW50cnkgfSk9PntcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykgJiYgaXNPbkRlbWFuZFJldmFsaWRhdGUgJiYgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQgJiYgIXByZXZpb3VzQ2FjaGVFbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbi1kZW1hbmQgcmV2YWxpZGF0ZSBhbHdheXMgc2V0cyB0aGlzIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcigneC1uZXh0anMtY2FjaGUnLCAnUkVWQUxJREFURUQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5lbmQoJ1RoaXMgcGFnZSBjb3VsZCBub3QgYmUgZm91bmQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgaW52b2tlUm91dGVNb2R1bGUoY3VycmVudFNwYW4pO1xuICAgICAgICAgICAgICAgICAgICByZXEuZmV0Y2hNZXRyaWNzID0gY29udGV4dC5yZW5kZXJPcHRzLmZldGNoTWV0cmljcztcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBlbmRpbmdXYWl0VW50aWwgPSBjb250ZXh0LnJlbmRlck9wdHMucGVuZGluZ1dhaXRVbnRpbDtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXR0ZW1wdCB1c2luZyBwcm92aWRlZCB3YWl0VW50aWwgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0J3Mgbm90IHdlIGZhbGxiYWNrIHRvIHNlbmRSZXNwb25zZSdzIGhhbmRsaW5nXG4gICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nV2FpdFVudGlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3R4LndhaXRVbnRpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC53YWl0VW50aWwocGVuZGluZ1dhaXRVbnRpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1dhaXRVbnRpbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZVRhZ3MgPSBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkVGFncztcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3QgaXMgZm9yIGEgc3RhdGljIHJlc3BvbnNlLCB3ZSBjYW4gY2FjaGUgaXQgc28gbG9uZ1xuICAgICAgICAgICAgICAgICAgICAvLyBhcyBpdCdzIG5vdCBlZGdlLlxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJc3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3B5IHRoZSBoZWFkZXJzIGZyb20gdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IHRvTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMocmVzcG9uc2UuaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVUYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1tORVhUX0NBQ0hFX1RBR1NfSEVBREVSXSA9IGNhY2hlVGFncztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGVhZGVyc1snY29udGVudC10eXBlJ10gJiYgYmxvYi50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1snY29udGVudC10eXBlJ10gPSBibG9iLnR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXZhbGlkYXRlID0gdHlwZW9mIGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlID09PSAndW5kZWZpbmVkJyB8fCBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZSA+PSBJTkZJTklURV9DQUNIRSA/IGZhbHNlIDogY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleHBpcmUgPSB0eXBlb2YgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZSA9PT0gJ3VuZGVmaW5lZCcgfHwgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZSA+PSBJTkZJTklURV9DQUNIRSA/IHVuZGVmaW5lZCA6IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGNhY2hlIGVudHJ5IGZvciB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZUVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IENhY2hlZFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBCdWZmZXIuZnJvbShhd2FpdCBibG9iLmFycmF5QnVmZmVyKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2w6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZUVudHJ5O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VuZCByZXNwb25zZSB3aXRob3V0IGNhY2hpbmcgaWYgbm90IElTUlxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgcmVzcG9uc2UsIGNvbnRleHQucmVuZGVyT3B0cy5wZW5kaW5nV2FpdFVudGlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYSBiYWNrZ3JvdW5kIHJldmFsaWRhdGUgd2UgbmVlZCB0byByZXBvcnRcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHJlcXVlc3QgZXJyb3IgaGVyZSBhcyBpdCB3b24ndCBiZSBidWJibGVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0NhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IHByZXZpb3VzQ2FjaGVFbnRyeS5pc1N0YWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVyciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlcktpbmQ6ICdBcHAgUm91dGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZVBhdGg6IHNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVUeXBlOiAncm91dGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGVSZWFzb246IGdldFJldmFsaWRhdGVSZWFzb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJvdXRlclNlcnZlckNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgY2FjaGVFbnRyeSA9IGF3YWl0IHJvdXRlTW9kdWxlLmhhbmRsZVJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgbmV4dENvbmZpZyxcbiAgICAgICAgICAgICAgICBjYWNoZUtleSxcbiAgICAgICAgICAgICAgICByb3V0ZUtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgICAgICAgICAgaXNGYWxsYmFjazogZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJlcmVuZGVyTWFuaWZlc3QsXG4gICAgICAgICAgICAgICAgaXNSb3V0ZVBQUkVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlR2VuZXJhdG9yLFxuICAgICAgICAgICAgICAgIHdhaXRVbnRpbDogY3R4LndhaXRVbnRpbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBjcmVhdGUgYSBjYWNoZUVudHJ5IGZvciBJU1JcbiAgICAgICAgICAgIGlmICghaXNJc3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoY2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogKF9jYWNoZUVudHJ5X3ZhbHVlID0gY2FjaGVFbnRyeS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jYWNoZUVudHJ5X3ZhbHVlLmtpbmQpICE9PSBDYWNoZWRSb3V0ZUtpbmQuQVBQX1JPVVRFKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X3ZhbHVlMTtcbiAgICAgICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKGBJbnZhcmlhbnQ6IGFwcC1yb3V0ZSByZWNlaXZlZCBpbnZhbGlkIGNhY2hlIGVudHJ5ICR7Y2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogKF9jYWNoZUVudHJ5X3ZhbHVlMSA9IGNhY2hlRW50cnkudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV92YWx1ZTEua2luZH1gKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkU3MDFcIixcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpKSB7XG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcigneC1uZXh0anMtY2FjaGUnLCBpc09uRGVtYW5kUmV2YWxpZGF0ZSA/ICdSRVZBTElEQVRFRCcgOiBjYWNoZUVudHJ5LmlzTWlzcyA/ICdNSVNTJyA6IGNhY2hlRW50cnkuaXNTdGFsZSA/ICdTVEFMRScgOiAnSElUJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEcmFmdCBtb2RlIHNob3VsZCBuZXZlciBiZSBjYWNoZWRcbiAgICAgICAgICAgIGlmIChpc0RyYWZ0TW9kZSkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCAncHJpdmF0ZSwgbm8tY2FjaGUsIG5vLXN0b3JlLCBtYXgtYWdlPTAsIG11c3QtcmV2YWxpZGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IGZyb21Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyhjYWNoZUVudHJ5LnZhbHVlLmhlYWRlcnMpO1xuICAgICAgICAgICAgaWYgKCEoZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSAmJiBpc0lzcikpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLmRlbGV0ZShORVhUX0NBQ0hFX1RBR1NfSEVBREVSKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIGNhY2hlIGNvbnRyb2wgaXMgYWxyZWFkeSBzZXQgb24gdGhlIHJlc3BvbnNlIHdlIGRvbid0XG4gICAgICAgICAgICAvLyBvdmVycmlkZSBpdCB0byBhbGxvdyB1c2VycyB0byBjdXN0b21pemUgaXQgdmlhIG5leHQuY29uZmlnXG4gICAgICAgICAgICBpZiAoY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wgJiYgIXJlcy5nZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnKSAmJiAhaGVhZGVycy5nZXQoJ0NhY2hlLUNvbnRyb2wnKSkge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdDYWNoZS1Db250cm9sJywgZ2V0Q2FjaGVDb250cm9sSGVhZGVyKGNhY2hlRW50cnkuY2FjaGVDb250cm9sKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCBuZXcgUmVzcG9uc2UoY2FjaGVFbnRyeS52YWx1ZS5ib2R5LCB7XG4gICAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IGNhY2hlRW50cnkudmFsdWUuc3RhdHVzIHx8IDIwMFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIC8vIFRPRE86IGFjdGl2ZVNwYW4gY29kZSBwYXRoIGlzIGZvciB3aGVuIHdyYXBwZWQgYnlcbiAgICAgICAgLy8gbmV4dC1zZXJ2ZXIgY2FuIGJlIHJlbW92ZWQgd2hlbiB0aGlzIGlzIG5vIGxvbmdlciB1c2VkXG4gICAgICAgIGlmIChhY3RpdmVTcGFuKSB7XG4gICAgICAgICAgICBhd2FpdCBoYW5kbGVSZXNwb25zZShhY3RpdmVTcGFuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRyYWNlci53aXRoUHJvcGFnYXRlZENvbnRleHQocmVxLmhlYWRlcnMsICgpPT50cmFjZXIudHJhY2UoQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCwge1xuICAgICAgICAgICAgICAgICAgICBzcGFuTmFtZTogYCR7bWV0aG9kfSAke3JlcS51cmx9YCxcbiAgICAgICAgICAgICAgICAgICAga2luZDogU3BhbktpbmQuU0VSVkVSLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5tZXRob2QnOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC50YXJnZXQnOiByZXEudXJsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBoYW5kbGVSZXNwb25zZSkpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIGlmIHdlIGFyZW4ndCB3cmFwcGVkIGJ5IGJhc2Utc2VydmVyIGhhbmRsZSBoZXJlXG4gICAgICAgIGlmICghYWN0aXZlU3BhbiAmJiAhKGVyciBpbnN0YW5jZW9mIE5vRmFsbGJhY2tFcnJvcikpIHtcbiAgICAgICAgICAgIGF3YWl0IHJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyLCB7XG4gICAgICAgICAgICAgICAgcm91dGVyS2luZDogJ0FwcCBSb3V0ZXInLFxuICAgICAgICAgICAgICAgIHJvdXRlUGF0aDogbm9ybWFsaXplZFNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgcm91dGVUeXBlOiAncm91dGUnLFxuICAgICAgICAgICAgICAgIHJldmFsaWRhdGVSZWFzb246IGdldFJldmFsaWRhdGVSZWFzb24oe1xuICAgICAgICAgICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJldGhyb3cgc28gdGhhdCB3ZSBjYW4gaGFuZGxlIHNlcnZpbmcgZXJyb3IgcGFnZVxuICAgICAgICAvLyBJZiB0aGlzIGlzIGR1cmluZyBzdGF0aWMgZ2VuZXJhdGlvbiwgdGhyb3cgdGhlIGVycm9yIGFnYWluLlxuICAgICAgICBpZiAoaXNJc3IpIHRocm93IGVycjtcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBzZW5kIGEgNTAwIHJlc3BvbnNlLlxuICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCBuZXcgUmVzcG9uc2UobnVsbCwge1xuICAgICAgICAgICAgc3RhdHVzOiA1MDBcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fstock-movements%2Froute&page=%2Fapi%2Fstock-movements%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstock-movements%2Froute.ts&appDir=D%3A%5C3RD%20YEAR%5Ccv%5Cfreelance%5CMNSTS-IMS%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5C3RD%20YEAR%5Ccv%5Cfreelance%5CMNSTS-IMS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/stock-movements/route.ts":
/*!**********************************************!*\
  !*** ./src/app/api/stock-movements/route.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./src/lib/prisma.ts\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./src/lib/auth.ts\");\n/* harmony import */ var _lib_email__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/email */ \"(rsc)/./src/lib/email.ts\");\n\n\n\n\nasync function GET(request) {\n    try {\n        const token = request.cookies.get('token')?.value;\n        if (!token) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Unauthorized'\n            }, {\n                status: 401\n            });\n        }\n        const user = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_2__.getUserFromToken)(token);\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Invalid token'\n            }, {\n                status: 401\n            });\n        }\n        const { searchParams } = new URL(request.url);\n        const page = parseInt(searchParams.get('page') || '1');\n        const limit = parseInt(searchParams.get('limit') || '10');\n        const itemId = searchParams.get('itemId');\n        const type = searchParams.get('type');\n        const skip = (page - 1) * limit;\n        const where = {\n            ...itemId && {\n                itemId\n            },\n            ...type && {\n                type\n            }\n        };\n        const [movements, total] = await Promise.all([\n            _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.stockMovement.findMany({\n                where,\n                include: {\n                    item: {\n                        include: {\n                            category: true\n                        }\n                    },\n                    user: {\n                        select: {\n                            firstName: true,\n                            lastName: true\n                        }\n                    }\n                },\n                orderBy: {\n                    createdAt: 'desc'\n                },\n                skip,\n                take: limit\n            }),\n            _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.stockMovement.count({\n                where\n            })\n        ]);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: {\n                movements,\n                pagination: {\n                    page,\n                    limit,\n                    total,\n                    pages: Math.ceil(total / limit)\n                }\n            }\n        });\n    } catch (error) {\n        console.error('Stock movements fetch error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: 'Internal server error'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const token = request.cookies.get('token')?.value;\n        if (!token) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Unauthorized'\n            }, {\n                status: 401\n            });\n        }\n        const user = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_2__.getUserFromToken)(token);\n        if (!user) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Invalid token'\n            }, {\n                status: 401\n            });\n        }\n        const { itemId, type, quantity, reason, notes } = await request.json();\n        if (!itemId || !type || !quantity || !reason) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Missing required fields'\n            }, {\n                status: 400\n            });\n        }\n        if (![\n            'IN',\n            'OUT',\n            'ADJUSTMENT',\n            'TRANSFER'\n        ].includes(type)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Invalid movement type'\n            }, {\n                status: 400\n            });\n        }\n        if (quantity <= 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Quantity must be positive'\n            }, {\n                status: 400\n            });\n        }\n        // Get current item\n        const item = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.inventoryItem.findUnique({\n            where: {\n                id: itemId\n            }\n        });\n        if (!item) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Item not found'\n            }, {\n                status: 404\n            });\n        }\n        // Calculate new quantity\n        let newQuantity;\n        if (type === 'IN' || type === 'ADJUSTMENT') {\n            newQuantity = item.quantity + quantity;\n        } else if (type === 'OUT' || type === 'TRANSFER') {\n            newQuantity = item.quantity - quantity;\n            if (newQuantity < 0) {\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: false,\n                    error: 'Insufficient stock'\n                }, {\n                    status: 400\n                });\n            }\n        } else {\n            newQuantity = item.quantity;\n        }\n        // Create stock movement and update item in a transaction\n        const result = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.$transaction([\n            _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.stockMovement.create({\n                data: {\n                    itemId,\n                    userId: user.id,\n                    type: type,\n                    quantity,\n                    reason,\n                    notes\n                },\n                include: {\n                    item: {\n                        include: {\n                            category: true\n                        }\n                    },\n                    user: {\n                        select: {\n                            firstName: true,\n                            lastName: true\n                        }\n                    }\n                }\n            }),\n            _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.inventoryItem.update({\n                where: {\n                    id: itemId\n                },\n                data: {\n                    quantity: newQuantity\n                }\n            })\n        ]);\n        // Check for low stock after OUT movements and send email alerts\n        console.log(`Stock movement: ${type}, New quantity: ${newQuantity}, Min stock: ${item.minStock}`);\n        if ((type === 'OUT' || type === 'TRANSFER') && newQuantity <= item.minStock) {\n            console.log('Triggering low stock email alert...');\n            try {\n                // Get all items that are now below minimum stock (including this one)\n                const lowStockItems = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.$queryRaw`\n          SELECT\n            i.*,\n            c.name as \"categoryName\",\n            c.color as \"categoryColor\"\n          FROM inventory_items i\n          JOIN categories c ON i.\"categoryId\" = c.id\n          WHERE i.quantity <= i.\"minStock\"\n          AND i.\"isActive\" = true\n        `;\n                console.log(`Found ${lowStockItems.length} low stock items`);\n                if (lowStockItems.length > 0) {\n                    const lowStockData = lowStockItems.map((item)=>({\n                            name: item.name,\n                            sku: item.sku,\n                            category: item.categoryName,\n                            currentStock: item.quantity,\n                            minStock: item.minStock,\n                            shortage: Math.max(0, item.minStock - item.quantity)\n                        }));\n                    console.log('Low stock data:', lowStockData);\n                    // Send low stock alert emails (don't await to avoid blocking the response)\n                    (0,_lib_email__WEBPACK_IMPORTED_MODULE_3__.sendLowStockAlert)(lowStockData).then((emailResult)=>{\n                        if (emailResult.success) {\n                            console.log(`Low stock alert sent: ${emailResult.message}`);\n                        } else {\n                            console.error('Failed to send low stock alert:', emailResult.error);\n                        }\n                    }).catch((error)=>{\n                        console.error('Error sending low stock alert:', error);\n                    });\n                }\n            } catch (error) {\n                // Don't fail the stock movement if email fails\n                console.error('Error checking low stock for email alerts:', error);\n            }\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: 'Stock movement recorded successfully',\n            data: result[0]\n        });\n    } catch (error) {\n        console.error('Stock movement creation error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: 'Internal server error'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9zdG9jay1tb3ZlbWVudHMvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXVEO0FBQ2xCO0FBQ1E7QUFHZ0I7QUFFdEQsZUFBZUksSUFBSUMsT0FBb0I7SUFDNUMsSUFBSTtRQUNGLE1BQU1DLFFBQVFELFFBQVFFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLFVBQVVDO1FBQzVDLElBQUksQ0FBQ0gsT0FBTztZQUNWLE9BQU9OLHFEQUFZQSxDQUFDVSxJQUFJLENBQWM7Z0JBQ3BDQyxTQUFTO2dCQUNUQyxPQUFPO1lBQ1QsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQ25CO1FBRUEsTUFBTUMsT0FBTyxNQUFNWiwyREFBZ0JBLENBQUNJO1FBQ3BDLElBQUksQ0FBQ1EsTUFBTTtZQUNULE9BQU9kLHFEQUFZQSxDQUFDVSxJQUFJLENBQWM7Z0JBQ3BDQyxTQUFTO2dCQUNUQyxPQUFPO1lBQ1QsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQ25CO1FBRUEsTUFBTSxFQUFFRSxZQUFZLEVBQUUsR0FBRyxJQUFJQyxJQUFJWCxRQUFRWSxHQUFHO1FBQzVDLE1BQU1DLE9BQU9DLFNBQVNKLGFBQWFQLEdBQUcsQ0FBQyxXQUFXO1FBQ2xELE1BQU1ZLFFBQVFELFNBQVNKLGFBQWFQLEdBQUcsQ0FBQyxZQUFZO1FBQ3BELE1BQU1hLFNBQVNOLGFBQWFQLEdBQUcsQ0FBQztRQUNoQyxNQUFNYyxPQUFPUCxhQUFhUCxHQUFHLENBQUM7UUFFOUIsTUFBTWUsT0FBTyxDQUFDTCxPQUFPLEtBQUtFO1FBRTFCLE1BQU1JLFFBQVE7WUFDWixHQUFJSCxVQUFVO2dCQUFFQTtZQUFPLENBQUM7WUFDeEIsR0FBSUMsUUFBUTtnQkFBRUE7WUFBSyxDQUFDO1FBQ3RCO1FBRUEsTUFBTSxDQUFDRyxXQUFXQyxNQUFNLEdBQUcsTUFBTUMsUUFBUUMsR0FBRyxDQUFDO1lBQzNDM0IsK0NBQU1BLENBQUM0QixhQUFhLENBQUNDLFFBQVEsQ0FBQztnQkFDNUJO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QUFRbEMsS0FBSyxDQUFDLGtDQUFrQ0E7UUFDaEQsT0FBT1oscURBQVlBLENBQUNVLElBQUksQ0FBYztZQUNwQ0MsU0FBUztZQUNUQyxPQUFPO1FBQ1QsR0FBRztZQUFFQyxRQUFRO1FBQUk7SUFDbkI7QUFDRiIsInNvdXJjZXMiOlsiRDpcXDNSRCBZRUFSXFxjdlxcZnJlZWxhbmNlXFxNTlNUUy1JTVNcXHNyY1xcYXBwXFxhcGlcXHN0b2NrLW1vdmVtZW50c1xccm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSAnQC9saWIvcHJpc21hJ1xuaW1wb3J0IHsgZ2V0VXNlckZyb21Ub2tlbiB9IGZyb20gJ0AvbGliL2F1dGgnXG5pbXBvcnQgeyBBcGlSZXNwb25zZSB9IGZyb20gJ0AvdHlwZXMnXG5pbXBvcnQgeyBNb3ZlbWVudFR5cGUgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcbmltcG9ydCB7IHNlbmRMb3dTdG9ja0FsZXJ0LCBMb3dTdG9ja0l0ZW0gfSBmcm9tICdAL2xpYi9lbWFpbCdcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHRva2VuID0gcmVxdWVzdC5jb29raWVzLmdldCgndG9rZW4nKT8udmFsdWVcbiAgICBpZiAoIXRva2VuKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb248QXBpUmVzcG9uc2U+KHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnVW5hdXRob3JpemVkJ1xuICAgICAgfSwgeyBzdGF0dXM6IDQwMSB9KVxuICAgIH1cblxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBnZXRVc2VyRnJvbVRva2VuKHRva2VuKVxuICAgIGlmICghdXNlcikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uPEFwaVJlc3BvbnNlPih7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ0ludmFsaWQgdG9rZW4nXG4gICAgICB9LCB7IHN0YXR1czogNDAxIH0pXG4gICAgfVxuXG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpXG4gICAgY29uc3QgcGFnZSA9IHBhcnNlSW50KHNlYXJjaFBhcmFtcy5nZXQoJ3BhZ2UnKSB8fCAnMScpXG4gICAgY29uc3QgbGltaXQgPSBwYXJzZUludChzZWFyY2hQYXJhbXMuZ2V0KCdsaW1pdCcpIHx8ICcxMCcpXG4gICAgY29uc3QgaXRlbUlkID0gc2VhcmNoUGFyYW1zLmdldCgnaXRlbUlkJylcbiAgICBjb25zdCB0eXBlID0gc2VhcmNoUGFyYW1zLmdldCgndHlwZScpIGFzIE1vdmVtZW50VHlwZSB8IG51bGxcblxuICAgIGNvbnN0IHNraXAgPSAocGFnZSAtIDEpICogbGltaXRcblxuICAgIGNvbnN0IHdoZXJlID0ge1xuICAgICAgLi4uKGl0ZW1JZCAmJiB7IGl0ZW1JZCB9KSxcbiAgICAgIC4uLih0eXBlICYmIHsgdHlwZSB9KVxuICAgIH1cblxuICAgIGNvbnN0IFttb3ZlbWVudHMsIHRvdGFsXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgIHByaXNtYS5zdG9ja01vdmVtZW50LmZpbmRNYW55KHtcbiAgICAgICAgd2hlcmUsXG4gICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICBpdGVtOiB7XG4gICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgIGNhdGVnb3J5OiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICAgICAgZmlyc3ROYW1lOiB0cnVlLFxuICAgICAgICAgICAgICBsYXN0TmFtZTogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdkZXNjJyB9LFxuICAgICAgICBza2lwLFxuICAgICAgICB0YWtlOiBsaW1pdFxuICAgICAgfSksXG4gICAgICBwcmlzbWEuc3RvY2tNb3ZlbWVudC5jb3VudCh7IHdoZXJlIH0pXG4gICAgXSlcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbjxBcGlSZXNwb25zZT4oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgbW92ZW1lbnRzLFxuICAgICAgICBwYWdpbmF0aW9uOiB7XG4gICAgICAgICAgcGFnZSxcbiAgICAgICAgICBsaW1pdCxcbiAgICAgICAgICB0b3RhbCxcbiAgICAgICAgICBwYWdlczogTWF0aC5jZWlsKHRvdGFsIC8gbGltaXQpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignU3RvY2sgbW92ZW1lbnRzIGZldGNoIGVycm9yOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbjxBcGlSZXNwb25zZT4oe1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcidcbiAgICB9LCB7IHN0YXR1czogNTAwIH0pXG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB0b2tlbiA9IHJlcXVlc3QuY29va2llcy5nZXQoJ3Rva2VuJyk/LnZhbHVlXG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uPEFwaVJlc3BvbnNlPih7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBlcnJvcjogJ1VuYXV0aG9yaXplZCdcbiAgICAgIH0sIHsgc3RhdHVzOiA0MDEgfSlcbiAgICB9XG5cbiAgICBjb25zdCB1c2VyID0gYXdhaXQgZ2V0VXNlckZyb21Ub2tlbih0b2tlbilcbiAgICBpZiAoIXVzZXIpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbjxBcGlSZXNwb25zZT4oe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdJbnZhbGlkIHRva2VuJ1xuICAgICAgfSwgeyBzdGF0dXM6IDQwMSB9KVxuICAgIH1cblxuICAgIGNvbnN0IHsgaXRlbUlkLCB0eXBlLCBxdWFudGl0eSwgcmVhc29uLCBub3RlcyB9ID0gYXdhaXQgcmVxdWVzdC5qc29uKClcblxuICAgIGlmICghaXRlbUlkIHx8ICF0eXBlIHx8ICFxdWFudGl0eSB8fCAhcmVhc29uKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb248QXBpUmVzcG9uc2U+KHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnTWlzc2luZyByZXF1aXJlZCBmaWVsZHMnXG4gICAgICB9LCB7IHN0YXR1czogNDAwIH0pXG4gICAgfVxuXG4gICAgaWYgKCFbJ0lOJywgJ09VVCcsICdBREpVU1RNRU5UJywgJ1RSQU5TRkVSJ10uaW5jbHVkZXModHlwZSkpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbjxBcGlSZXNwb25zZT4oe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdJbnZhbGlkIG1vdmVtZW50IHR5cGUnXG4gICAgICB9LCB7IHN0YXR1czogNDAwIH0pXG4gICAgfVxuXG4gICAgaWYgKHF1YW50aXR5IDw9IDApIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbjxBcGlSZXNwb25zZT4oe1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6ICdRdWFudGl0eSBtdXN0IGJlIHBvc2l0aXZlJ1xuICAgICAgfSwgeyBzdGF0dXM6IDQwMCB9KVxuICAgIH1cblxuICAgIC8vIEdldCBjdXJyZW50IGl0ZW1cbiAgICBjb25zdCBpdGVtID0gYXdhaXQgcHJpc21hLmludmVudG9yeUl0ZW0uZmluZFVuaXF1ZSh7XG4gICAgICB3aGVyZTogeyBpZDogaXRlbUlkIH1cbiAgICB9KVxuXG4gICAgaWYgKCFpdGVtKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb248QXBpUmVzcG9uc2U+KHtcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiAnSXRlbSBub3QgZm91bmQnXG4gICAgICB9LCB7IHN0YXR1czogNDA0IH0pXG4gICAgfVxuXG4gICAgLy8gQ2FsY3VsYXRlIG5ldyBxdWFudGl0eVxuICAgIGxldCBuZXdRdWFudGl0eTogbnVtYmVyXG4gICAgaWYgKHR5cGUgPT09ICdJTicgfHwgdHlwZSA9PT0gJ0FESlVTVE1FTlQnKSB7XG4gICAgICBuZXdRdWFudGl0eSA9IGl0ZW0ucXVhbnRpdHkgKyBxdWFudGl0eVxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ09VVCcgfHwgdHlwZSA9PT0gJ1RSQU5TRkVSJykge1xuICAgICAgbmV3UXVhbnRpdHkgPSBpdGVtLnF1YW50aXR5IC0gcXVhbnRpdHlcbiAgICAgIGlmIChuZXdRdWFudGl0eSA8IDApIHtcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uPEFwaVJlc3BvbnNlPih7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6ICdJbnN1ZmZpY2llbnQgc3RvY2snXG4gICAgICAgIH0sIHsgc3RhdHVzOiA0MDAgfSlcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmV3UXVhbnRpdHkgPSBpdGVtLnF1YW50aXR5XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHN0b2NrIG1vdmVtZW50IGFuZCB1cGRhdGUgaXRlbSBpbiBhIHRyYW5zYWN0aW9uXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcHJpc21hLiR0cmFuc2FjdGlvbihbXG4gICAgICBwcmlzbWEuc3RvY2tNb3ZlbWVudC5jcmVhdGUoe1xuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgaXRlbUlkLFxuICAgICAgICAgIHVzZXJJZDogdXNlci5pZCxcbiAgICAgICAgICB0eXBlOiB0eXBlIGFzIE1vdmVtZW50VHlwZSxcbiAgICAgICAgICBxdWFudGl0eSxcbiAgICAgICAgICByZWFzb24sXG4gICAgICAgICAgbm90ZXNcbiAgICAgICAgfSxcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIGl0ZW06IHtcbiAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgY2F0ZWdvcnk6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgIHNlbGVjdDoge1xuICAgICAgICAgICAgICBmaXJzdE5hbWU6IHRydWUsXG4gICAgICAgICAgICAgIGxhc3ROYW1lOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIHByaXNtYS5pbnZlbnRvcnlJdGVtLnVwZGF0ZSh7XG4gICAgICAgIHdoZXJlOiB7IGlkOiBpdGVtSWQgfSxcbiAgICAgICAgZGF0YTogeyBxdWFudGl0eTogbmV3UXVhbnRpdHkgfVxuICAgICAgfSlcbiAgICBdKVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxvdyBzdG9jayBhZnRlciBPVVQgbW92ZW1lbnRzIGFuZCBzZW5kIGVtYWlsIGFsZXJ0c1xuICAgIGNvbnNvbGUubG9nKGBTdG9jayBtb3ZlbWVudDogJHt0eXBlfSwgTmV3IHF1YW50aXR5OiAke25ld1F1YW50aXR5fSwgTWluIHN0b2NrOiAke2l0ZW0ubWluU3RvY2t9YClcbiAgICBpZiAoKHR5cGUgPT09ICdPVVQnIHx8IHR5cGUgPT09ICdUUkFOU0ZFUicpICYmIG5ld1F1YW50aXR5IDw9IGl0ZW0ubWluU3RvY2spIHtcbiAgICAgIGNvbnNvbGUubG9nKCdUcmlnZ2VyaW5nIGxvdyBzdG9jayBlbWFpbCBhbGVydC4uLicpXG4gICAgICB0cnkge1xuICAgICAgICAvLyBHZXQgYWxsIGl0ZW1zIHRoYXQgYXJlIG5vdyBiZWxvdyBtaW5pbXVtIHN0b2NrIChpbmNsdWRpbmcgdGhpcyBvbmUpXG4gICAgICAgIGNvbnN0IGxvd1N0b2NrSXRlbXMgPSBhd2FpdCBwcmlzbWEuJHF1ZXJ5UmF3YFxuICAgICAgICAgIFNFTEVDVFxuICAgICAgICAgICAgaS4qLFxuICAgICAgICAgICAgYy5uYW1lIGFzIFwiY2F0ZWdvcnlOYW1lXCIsXG4gICAgICAgICAgICBjLmNvbG9yIGFzIFwiY2F0ZWdvcnlDb2xvclwiXG4gICAgICAgICAgRlJPTSBpbnZlbnRvcnlfaXRlbXMgaVxuICAgICAgICAgIEpPSU4gY2F0ZWdvcmllcyBjIE9OIGkuXCJjYXRlZ29yeUlkXCIgPSBjLmlkXG4gICAgICAgICAgV0hFUkUgaS5xdWFudGl0eSA8PSBpLlwibWluU3RvY2tcIlxuICAgICAgICAgIEFORCBpLlwiaXNBY3RpdmVcIiA9IHRydWVcbiAgICAgICAgYCBhcyBhbnlbXVxuXG4gICAgICAgIGNvbnNvbGUubG9nKGBGb3VuZCAke2xvd1N0b2NrSXRlbXMubGVuZ3RofSBsb3cgc3RvY2sgaXRlbXNgKVxuICAgICAgICBpZiAobG93U3RvY2tJdGVtcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgbG93U3RvY2tEYXRhOiBMb3dTdG9ja0l0ZW1bXSA9IGxvd1N0b2NrSXRlbXMubWFwKGl0ZW0gPT4gKHtcbiAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcbiAgICAgICAgICAgIHNrdTogaXRlbS5za3UsXG4gICAgICAgICAgICBjYXRlZ29yeTogaXRlbS5jYXRlZ29yeU5hbWUsXG4gICAgICAgICAgICBjdXJyZW50U3RvY2s6IGl0ZW0ucXVhbnRpdHksXG4gICAgICAgICAgICBtaW5TdG9jazogaXRlbS5taW5TdG9jayxcbiAgICAgICAgICAgIHNob3J0YWdlOiBNYXRoLm1heCgwLCBpdGVtLm1pblN0b2NrIC0gaXRlbS5xdWFudGl0eSlcbiAgICAgICAgICB9KSlcblxuICAgICAgICAgIGNvbnNvbGUubG9nKCdMb3cgc3RvY2sgZGF0YTonLCBsb3dTdG9ja0RhdGEpXG5cbiAgICAgICAgICAvLyBTZW5kIGxvdyBzdG9jayBhbGVydCBlbWFpbHMgKGRvbid0IGF3YWl0IHRvIGF2b2lkIGJsb2NraW5nIHRoZSByZXNwb25zZSlcbiAgICAgICAgICBzZW5kTG93U3RvY2tBbGVydChsb3dTdG9ja0RhdGEpLnRoZW4oZW1haWxSZXN1bHQgPT4ge1xuICAgICAgICAgICAgaWYgKGVtYWlsUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYExvdyBzdG9jayBhbGVydCBzZW50OiAke2VtYWlsUmVzdWx0Lm1lc3NhZ2V9YClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBzZW5kIGxvdyBzdG9jayBhbGVydDonLCBlbWFpbFJlc3VsdC5lcnJvcilcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZW5kaW5nIGxvdyBzdG9jayBhbGVydDonLCBlcnJvcilcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBEb24ndCBmYWlsIHRoZSBzdG9jayBtb3ZlbWVudCBpZiBlbWFpbCBmYWlsc1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyBsb3cgc3RvY2sgZm9yIGVtYWlsIGFsZXJ0czonLCBlcnJvcilcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb248QXBpUmVzcG9uc2U+KHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBtZXNzYWdlOiAnU3RvY2sgbW92ZW1lbnQgcmVjb3JkZWQgc3VjY2Vzc2Z1bGx5JyxcbiAgICAgIGRhdGE6IHJlc3VsdFswXVxuICAgIH0pXG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdTdG9jayBtb3ZlbWVudCBjcmVhdGlvbiBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb248QXBpUmVzcG9uc2U+KHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InXG4gICAgfSwgeyBzdGF0dXM6IDUwMCB9KVxuICB9XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInByaXNtYSIsImdldFVzZXJGcm9tVG9rZW4iLCJzZW5kTG93U3RvY2tBbGVydCIsIkdFVCIsInJlcXVlc3QiLCJ0b2tlbiIsImNvb2tpZXMiLCJnZXQiLCJ2YWx1ZSIsImpzb24iLCJzdWNjZXNzIiwiZXJyb3IiLCJzdGF0dXMiLCJ1c2VyIiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwicGFnZSIsInBhcnNlSW50IiwibGltaXQiLCJpdGVtSWQiLCJ0eXBlIiwic2tpcCIsIndoZXJlIiwibW92ZW1lbnRzIiwidG90YWwiLCJQcm9taXNlIiwiYWxsIiwic3RvY2tNb3ZlbWVudCIsImZpbmRNYW55IiwiaW5jbHVkZSIsIml0ZW0iLCJjYXRlZ29yeSIsInNlbGVjdCIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwib3JkZXJCeSIsImNyZWF0ZWRBdCIsInRha2UiLCJjb3VudCIsImRhdGEiLCJwYWdpbmF0aW9uIiwicGFnZXMiLCJNYXRoIiwiY2VpbCIsImNvbnNvbGUiLCJQT1NUIiwicXVhbnRpdHkiLCJyZWFzb24iLCJub3RlcyIsImluY2x1ZGVzIiwiaW52ZW50b3J5SXRlbSIsImZpbmRVbmlxdWUiLCJpZCIsIm5ld1F1YW50aXR5IiwicmVzdWx0IiwiJHRyYW5zYWN0aW9uIiwiY3JlYXRlIiwidXNlcklkIiwidXBkYXRlIiwibG9nIiwibWluU3RvY2siLCJsb3dTdG9ja0l0ZW1zIiwiJHF1ZXJ5UmF3IiwibGVuZ3RoIiwibG93U3RvY2tEYXRhIiwibWFwIiwibmFtZSIsInNrdSIsImNhdGVnb3J5TmFtZSIsImN1cnJlbnRTdG9jayIsInNob3J0YWdlIiwibWF4IiwidGhlbiIsImVtYWlsUmVzdWx0IiwibWVzc2FnZSIsImNhdGNoIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/stock-movements/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/auth.ts":
/*!*************************!*\
  !*** ./src/lib/auth.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateToken: () => (/* binding */ generateToken),\n/* harmony export */   generateVerificationToken: () => (/* binding */ generateVerificationToken),\n/* harmony export */   getUserFromToken: () => (/* binding */ getUserFromToken),\n/* harmony export */   hashPassword: () => (/* binding */ hashPassword),\n/* harmony export */   verifyPassword: () => (/* binding */ verifyPassword),\n/* harmony export */   verifyToken: () => (/* binding */ verifyToken)\n/* harmony export */ });\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _prisma__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./prisma */ \"(rsc)/./src/lib/prisma.ts\");\n\n\n\nconst JWT_SECRET = process.env.JWT_SECRET;\nasync function hashPassword(password) {\n    return await bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].hash(password, 12);\n}\nasync function verifyPassword(password, hashedPassword) {\n    return await bcryptjs__WEBPACK_IMPORTED_MODULE_0__[\"default\"].compare(password, hashedPassword);\n}\nfunction generateToken(payload) {\n    return jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().sign(payload, JWT_SECRET, {\n        expiresIn: '7d'\n    });\n}\nfunction verifyToken(token) {\n    try {\n        return jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default().verify(token, JWT_SECRET);\n    } catch (error) {\n        return null;\n    }\n}\nfunction generateVerificationToken() {\n    return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\n}\nasync function getUserFromToken(token) {\n    const decoded = verifyToken(token);\n    if (!decoded || !decoded.userId) {\n        return null;\n    }\n    const user = await _prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.user.findUnique({\n        where: {\n            id: decoded.userId\n        },\n        select: {\n            id: true,\n            email: true,\n            firstName: true,\n            lastName: true,\n            isVerified: true\n        }\n    });\n    return user;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2F1dGgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUE2QjtBQUNDO0FBQ0c7QUFHakMsTUFBTUcsYUFBYUMsUUFBUUMsR0FBRyxDQUFDRixVQUFVO0FBRWxDLGVBQWVHLGFBQWFDLFFBQWdCO0lBQ2pELE9BQU8sTUFBTVAscURBQVcsQ0FBQ08sVUFBVTtBQUNyQztBQUVPLGVBQWVFLGVBQWVGLFFBQWdCLEVBQUVHLGNBQXNCO0lBQzNFLE9BQU8sTUFBTVYsd0RBQWMsQ0FBQ08sVUFBVUc7QUFDeEM7QUFFTyxTQUFTRSxjQUFjQyxPQUFZO0lBQ3hDLE9BQU9aLHdEQUFRLENBQUNZLFNBQVNWLFlBQVk7UUFBRVksV0FBVztJQUFLO0FBQ3pEO0FBRU8sU0FBU0MsWUFBWUMsS0FBYTtJQUN2QyxJQUFJO1FBQ0YsT0FBT2hCLDBEQUFVLENBQUNnQixPQUFPZDtJQUMzQixFQUFFLE9BQU9nQixPQUFPO1FBQ2QsT0FBTztJQUNUO0FBQ0Y7QUFFTyxTQUFTQztJQUNkLE9BQU9DLEtBQUtDLE1BQU0sR0FBR0MsUUFBUSxDQUFDLElBQUlDLFNBQVMsQ0FBQyxHQUFHLE1BQU1ILEtBQUtDLE1BQU0sR0FBR0MsUUFBUSxDQUFDLElBQUlDLFNBQVMsQ0FBQyxHQUFHO0FBQy9GO0FBRU8sZUFBZUMsaUJBQWlCUixLQUFhO0lBQ2xELE1BQU1TLFVBQVVWLFlBQVlDO0lBQzVCLElBQUksQ0FBQ1MsV0FBVyxDQUFDQSxRQUFRQyxNQUFNLEVBQUU7UUFDL0IsT0FBTztJQUNUO0lBRUEsTUFBTUMsT0FBTyxNQUFNMUIsMkNBQU1BLENBQUMwQixJQUFJLENBQUNDLFVBQVUsQ0FBQztRQUN4Q0MsT0FBTztZQUFFQyxJQUFJTCxRQUFRQyxNQUFNO1FBQUM7UUFDNUJLLFFBQVE7WUFDTkQsSUFBSTtZQUNKRSxPQUFPO1lBQ1BDLFdBQVc7WUFDWEMsVUFBVTtZQUNWQyxZQUFZO1FBQ2Q7SUFDRjtJQUVBLE9BQU9SO0FBQ1QiLCJzb3VyY2VzIjpbIkQ6XFwzUkQgWUVBUlxcY3ZcXGZyZWVsYW5jZVxcTU5TVFMtSU1TXFxzcmNcXGxpYlxcYXV0aC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xuaW1wb3J0IGp3dCBmcm9tICdqc29ud2VidG9rZW4nXG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tICcuL3ByaXNtYSdcbmltcG9ydCB7IFVzZXJTZXNzaW9uIH0gZnJvbSAnQC90eXBlcydcblxuY29uc3QgSldUX1NFQ1JFVCA9IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQhXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYXNoUGFzc3dvcmQocGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gIHJldHVybiBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTIpXG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlQYXNzd29yZChwYXNzd29yZDogc3RyaW5nLCBoYXNoZWRQYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHJldHVybiBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgaGFzaGVkUGFzc3dvcmQpXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZW5lcmF0ZVRva2VuKHBheWxvYWQ6IGFueSk6IHN0cmluZyB7XG4gIHJldHVybiBqd3Quc2lnbihwYXlsb2FkLCBKV1RfU0VDUkVULCB7IGV4cGlyZXNJbjogJzdkJyB9KVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdmVyaWZ5VG9rZW4odG9rZW46IHN0cmluZyk6IGFueSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGp3dC52ZXJpZnkodG9rZW4sIEpXVF9TRUNSRVQpXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIG51bGxcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVWZXJpZmljYXRpb25Ub2tlbigpOiBzdHJpbmcge1xuICByZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDE1KSArIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCAxNSlcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFVzZXJGcm9tVG9rZW4odG9rZW46IHN0cmluZyk6IFByb21pc2U8VXNlclNlc3Npb24gfCBudWxsPiB7XG4gIGNvbnN0IGRlY29kZWQgPSB2ZXJpZnlUb2tlbih0b2tlbilcbiAgaWYgKCFkZWNvZGVkIHx8ICFkZWNvZGVkLnVzZXJJZCkge1xuICAgIHJldHVybiBudWxsXG4gIH1cblxuICBjb25zdCB1c2VyID0gYXdhaXQgcHJpc21hLnVzZXIuZmluZFVuaXF1ZSh7XG4gICAgd2hlcmU6IHsgaWQ6IGRlY29kZWQudXNlcklkIH0sXG4gICAgc2VsZWN0OiB7XG4gICAgICBpZDogdHJ1ZSxcbiAgICAgIGVtYWlsOiB0cnVlLFxuICAgICAgZmlyc3ROYW1lOiB0cnVlLFxuICAgICAgbGFzdE5hbWU6IHRydWUsXG4gICAgICBpc1ZlcmlmaWVkOiB0cnVlLFxuICAgIH1cbiAgfSlcblxuICByZXR1cm4gdXNlclxufSJdLCJuYW1lcyI6WyJiY3J5cHQiLCJqd3QiLCJwcmlzbWEiLCJKV1RfU0VDUkVUIiwicHJvY2VzcyIsImVudiIsImhhc2hQYXNzd29yZCIsInBhc3N3b3JkIiwiaGFzaCIsInZlcmlmeVBhc3N3b3JkIiwiaGFzaGVkUGFzc3dvcmQiLCJjb21wYXJlIiwiZ2VuZXJhdGVUb2tlbiIsInBheWxvYWQiLCJzaWduIiwiZXhwaXJlc0luIiwidmVyaWZ5VG9rZW4iLCJ0b2tlbiIsInZlcmlmeSIsImVycm9yIiwiZ2VuZXJhdGVWZXJpZmljYXRpb25Ub2tlbiIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImdldFVzZXJGcm9tVG9rZW4iLCJkZWNvZGVkIiwidXNlcklkIiwidXNlciIsImZpbmRVbmlxdWUiLCJ3aGVyZSIsImlkIiwic2VsZWN0IiwiZW1haWwiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImlzVmVyaWZpZWQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/email.ts":
/*!**************************!*\
  !*** ./src/lib/email.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAdminVerificationEmailTemplate: () => (/* binding */ getAdminVerificationEmailTemplate),\n/* harmony export */   getLowStockAlertEmailTemplate: () => (/* binding */ getLowStockAlertEmailTemplate),\n/* harmony export */   getPasswordResetEmailTemplate: () => (/* binding */ getPasswordResetEmailTemplate),\n/* harmony export */   getVerificationEmailTemplate: () => (/* binding */ getVerificationEmailTemplate),\n/* harmony export */   sendEmail: () => (/* binding */ sendEmail),\n/* harmony export */   sendLowStockAlert: () => (/* binding */ sendLowStockAlert)\n/* harmony export */ });\n/* harmony import */ var nodemailer__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! nodemailer */ \"(rsc)/./node_modules/nodemailer/lib/nodemailer.js\");\n\nconst transporter = nodemailer__WEBPACK_IMPORTED_MODULE_0__.createTransport({\n    service: 'gmail',\n    auth: {\n        user: process.env.GMAIL_USER,\n        pass: process.env.GMAIL_PASSWORD\n    }\n});\nasync function sendEmail({ to, subject, html }) {\n    try {\n        await transporter.sendMail({\n            from: `\"MNSTS IMS\" <${process.env.GMAIL_USER}>`,\n            to,\n            subject,\n            html\n        });\n        return {\n            success: true\n        };\n    } catch (error) {\n        console.error('Email send error:', error);\n        return {\n            success: false,\n            error: 'Failed to send email'\n        };\n    }\n}\nfunction getAdminVerificationEmailTemplate(userDetails) {\n    const { firstName, lastName, email, verificationToken } = userDetails;\n    const verificationUrl = `${process.env.NEXTAUTH_URL}/admin/verify-user?token=${verificationToken}`;\n    return `\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <meta charset=\"utf-8\">\n      <title>New User Registration - MNSTS IMS</title>\n      <style>\n        body {\n          font-family: Arial, sans-serif;\n          background-color: #F8F6F0;\n          margin: 0;\n          padding: 20px;\n        }\n        .container {\n          max-width: 600px;\n          margin: 0 auto;\n          background-color: #FFFFFF;\n          border-radius: 12px;\n          padding: 40px;\n          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n        }\n        .header {\n          text-align: center;\n          margin-bottom: 30px;\n        }\n        .logo {\n          font-size: 28px;\n          font-weight: bold;\n          color: #2D5F3F;\n          margin-bottom: 10px;\n        }\n        .title {\n          color: #2D5F3F;\n          font-size: 24px;\n          margin-bottom: 20px;\n        }\n        .content {\n          color: #6B6B6B;\n          line-height: 1.6;\n          margin-bottom: 30px;\n        }\n        .user-details {\n          background-color: #F8F6F0;\n          border-left: 4px solid #2D5F3F;\n          padding: 20px;\n          margin: 20px 0;\n          border-radius: 0 8px 8px 0;\n        }\n        .user-details h4 {\n          color: #2D5F3F;\n          margin-top: 0;\n          margin-bottom: 15px;\n        }\n        .user-details p {\n          margin: 8px 0;\n          color: #2D5F3F;\n        }\n        .button {\n          display: inline-block;\n          background-color: #2D5F3F;\n          color: #FFFFFF;\n          padding: 12px 30px;\n          text-decoration: none;\n          border-radius: 8px;\n          font-weight: 600;\n          margin: 20px 0;\n        }\n        .button.approve {\n          background-color: #059669;\n        }\n        .button.reject {\n          background-color: #DC2626;\n          margin-left: 10px;\n        }\n        .footer {\n          margin-top: 40px;\n          padding-top: 20px;\n          border-top: 1px solid #E5E7EB;\n          font-size: 14px;\n          color: #6B6B6B;\n          text-align: center;\n        }\n        .buttons-container {\n          text-align: center;\n          margin: 30px 0;\n        }\n        .warning {\n          background-color: #FEF3C7;\n          border: 1px solid #F59E0B;\n          border-radius: 8px;\n          padding: 15px;\n          margin: 20px 0;\n          color: #92400E;\n        }\n      </style>\n    </head>\n    <body>\n      <div class=\"container\">\n        <div class=\"header\">\n          <div class=\"logo\">MNSTS IMS</div>\n          <p style=\"color: #6B6B6B;\">Medellin National Science and Technology School</p>\n        </div>\n\n        <h1 class=\"title\">New User Registration Request</h1>\n\n        <div class=\"content\">\n          <p>Hello Admin,</p>\n          <p>A new user has registered for the MNSTS Inventory Management System and requires approval before they can access the system.</p>\n\n          <div class=\"user-details\">\n            <h4>👤 User Information</h4>\n            <p><strong>Name:</strong> ${firstName} ${lastName}</p>\n            <p><strong>Email:</strong> ${email}</p>\n            <p><strong>Registration Date:</strong> ${new Date().toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n    })}</p>\n          </div>\n\n          <div class=\"warning\">\n            <strong>⚠️ Admin Action Required:</strong><br>\n            This user account is currently inactive and requires your approval before the user can sign in to the system.\n          </div>\n\n          <p>Please review this registration request and choose one of the following actions:</p>\n\n          <div class=\"buttons-container\">\n            <a href=\"${verificationUrl}&action=approve\" class=\"button approve\">✅ Approve User</a>\n            <a href=\"${verificationUrl}&action=reject\" class=\"button reject\">❌ Reject Registration</a>\n          </div>\n\n          <p><strong>What happens next:</strong></p>\n          <ul>\n            <li><strong>If you approve:</strong> The user will be activated and can sign in immediately</li>\n            <li><strong>If you reject:</strong> The registration will be deleted and the user will need to register again</li>\n          </ul>\n\n          <p>If the buttons don't work, you can copy and paste this link into your browser:</p>\n          <p style=\"word-break: break-all; color: #2D5F3F; font-size: 12px;\">${verificationUrl}</p>\n        </div>\n\n        <div class=\"footer\">\n          <p>This verification request was sent by MNSTS Inventory Management System</p>\n          <p>As the system administrator, only you can approve new user registrations.</p>\n        </div>\n      </div>\n    </body>\n    </html>\n  `;\n}\nfunction getVerificationEmailTemplate(firstName, verificationToken) {\n    const verificationUrl = `${process.env.NEXTAUTH_URL}/verify?token=${verificationToken}`;\n    return `\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <meta charset=\"utf-8\">\n      <title>Email Verification - MNSTS IMS</title>\n      <style>\n        body {\n          font-family: Arial, sans-serif;\n          background-color: #F8F6F0;\n          margin: 0;\n          padding: 20px;\n        }\n        .container {\n          max-width: 600px;\n          margin: 0 auto;\n          background-color: #FFFFFF;\n          border-radius: 12px;\n          padding: 40px;\n          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n        }\n        .header {\n          text-align: center;\n          margin-bottom: 30px;\n        }\n        .logo {\n          font-size: 28px;\n          font-weight: bold;\n          color: #2D5F3F;\n          margin-bottom: 10px;\n        }\n        .title {\n          color: #2D5F3F;\n          font-size: 24px;\n          margin-bottom: 20px;\n        }\n        .content {\n          color: #6B6B6B;\n          line-height: 1.6;\n          margin-bottom: 30px;\n        }\n        .button {\n          display: inline-block;\n          background-color: #2D5F3F;\n          color: #FFFFFF;\n          padding: 12px 30px;\n          text-decoration: none;\n          border-radius: 8px;\n          font-weight: 600;\n          margin: 20px 0;\n        }\n        .footer {\n          margin-top: 40px;\n          padding-top: 20px;\n          border-top: 1px solid #E5E7EB;\n          font-size: 14px;\n          color: #6B6B6B;\n          text-align: center;\n        }\n      </style>\n    </head>\n    <body>\n      <div class=\"container\">\n        <div class=\"header\">\n          <div class=\"logo\">MNSTS IMS</div>\n          <p style=\"color: #6B6B6B;\">Medellin National Science and Technology School</p>\n        </div>\n        \n        <h1 class=\"title\">Verify Your Email Address</h1>\n        \n        <div class=\"content\">\n          <p>Hello ${firstName},</p>\n          <p>Thank you for creating an account with the MNSTS Inventory Management System. To complete your registration and start managing inventory, please verify your email address by clicking the button below:</p>\n          \n          <div style=\"text-align: center;\">\n            <a href=\"${verificationUrl}\" class=\"button\">Verify Email Address</a>\n          </div>\n          \n          <p>If the button doesn't work, you can also copy and paste this link into your browser:</p>\n          <p style=\"word-break: break-all; color: #2D5F3F;\">${verificationUrl}</p>\n          \n          <p>This verification link will expire in 24 hours for security purposes.</p>\n          \n          <p>If you didn't create this account, you can safely ignore this email.</p>\n        </div>\n        \n        <div class=\"footer\">\n          <p>This email was sent by MNSTS Inventory Management System</p>\n          <p>If you have any questions, please contact your system administrator.</p>\n        </div>\n      </div>\n    </body>\n    </html>\n  `;\n}\nfunction getLowStockAlertEmailTemplate(firstName, lowStockItems) {\n    return `\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <meta charset=\"utf-8\">\n      <title>Low Stock Alert - MNSTS IMS</title>\n      <style>\n        body {\n          font-family: Arial, sans-serif;\n          background-color: #F8F6F0;\n          margin: 0;\n          padding: 20px;\n        }\n        .container {\n          max-width: 600px;\n          margin: 0 auto;\n          background-color: #FFFFFF;\n          border-radius: 12px;\n          padding: 40px;\n          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n        }\n        .header {\n          text-align: center;\n          margin-bottom: 30px;\n        }\n        .logo {\n          font-size: 28px;\n          font-weight: bold;\n          color: #2D5F3F;\n          margin-bottom: 10px;\n        }\n        .alert-title {\n          color: #DC2626;\n          font-size: 24px;\n          margin-bottom: 20px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 10px;\n        }\n        .alert-icon {\n          background-color: #FEE2E2;\n          color: #DC2626;\n          padding: 8px;\n          border-radius: 50%;\n          font-size: 20px;\n        }\n        .content {\n          color: #6B6B6B;\n          line-height: 1.6;\n          margin-bottom: 30px;\n        }\n        .items-table {\n          width: 100%;\n          border-collapse: collapse;\n          margin: 20px 0;\n          background-color: #FEF7F0;\n          border-radius: 8px;\n          overflow: hidden;\n        }\n        .items-table th {\n          background-color: #FED7AA;\n          color: #9A3412;\n          padding: 12px 8px;\n          text-align: left;\n          font-weight: 600;\n          font-size: 14px;\n        }\n        .items-table td {\n          padding: 12px 8px;\n          border-bottom: 1px solid #FED7AA;\n          font-size: 14px;\n        }\n        .items-table tr:last-child td {\n          border-bottom: none;\n        }\n        .shortage {\n          background-color: #FEE2E2;\n          color: #DC2626;\n          padding: 4px 8px;\n          border-radius: 4px;\n          font-weight: 600;\n          text-align: center;\n        }\n        .urgent {\n          background-color: #FECACA;\n          color: #991B1B;\n        }\n        .button {\n          display: inline-block;\n          background-color: #DC2626;\n          color: #FFFFFF;\n          padding: 12px 30px;\n          text-decoration: none;\n          border-radius: 8px;\n          font-weight: 600;\n          margin: 20px 0;\n        }\n        .footer {\n          margin-top: 40px;\n          padding-top: 20px;\n          border-top: 1px solid #E5E7EB;\n          font-size: 14px;\n          color: #6B6B6B;\n          text-align: center;\n        }\n        .summary {\n          background-color: #FEF2F2;\n          border-left: 4px solid #DC2626;\n          padding: 16px;\n          margin: 20px 0;\n          border-radius: 4px;\n        }\n      </style>\n    </head>\n    <body>\n      <div class=\"container\">\n        <div class=\"header\">\n          <div class=\"logo\">MNSTS IMS</div>\n          <p style=\"color: #6B6B6B;\">Medellin National Science and Technology School</p>\n        </div>\n\n        <h1 class=\"alert-title\">\n          <span class=\"alert-icon\">⚠</span>\n          Low Stock Alert\n        </h1>\n\n        <div class=\"content\">\n          <p>Hello ${firstName},</p>\n          <p>This is an automated alert from the MNSTS Inventory Management System. The following items have fallen below their minimum stock levels and require immediate attention:</p>\n\n          <div class=\"summary\">\n            <strong>Alert Summary:</strong><br>\n            • <strong>${lowStockItems.length}</strong> item(s) below minimum stock<br>\n            • Immediate restocking recommended<br>\n            • Generated on: ${new Date().toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n    })}\n          </div>\n\n          <table class=\"items-table\">\n            <thead>\n              <tr>\n                <th>Item Name</th>\n                <th>SKU</th>\n                <th>Category</th>\n                <th>Current</th>\n                <th>Min Required</th>\n                <th>Shortage</th>\n              </tr>\n            </thead>\n            <tbody>\n              ${lowStockItems.map((item)=>`\n                <tr>\n                  <td><strong>${item.name}</strong></td>\n                  <td>${item.sku}</td>\n                  <td>${item.category}</td>\n                  <td>${item.currentStock}</td>\n                  <td>${item.minStock}</td>\n                  <td class=\"shortage ${item.currentStock === 0 ? 'urgent' : ''}\">${item.shortage}</td>\n                </tr>\n              `).join('')}\n            </tbody>\n          </table>\n\n          <p><strong>Recommended Actions:</strong></p>\n          <ul>\n            <li>Review and update procurement orders</li>\n            <li>Check with suppliers for availability</li>\n            <li>Consider alternative sourcing if needed</li>\n            <li>Update stock levels once items are restocked</li>\n          </ul>\n\n          <div style=\"text-align: center;\">\n            <a href=\"${process.env.NEXTAUTH_URL}/overview\" class=\"button\">View Dashboard</a>\n          </div>\n        </div>\n\n        <div class=\"footer\">\n          <p>This is an automated alert from MNSTS Inventory Management System</p>\n          <p>Please do not reply to this email. For questions, contact your system administrator.</p>\n        </div>\n      </div>\n    </body>\n    </html>\n  `;\n}\nasync function sendLowStockAlert(lowStockItems) {\n    try {\n        // First, get all verified users from the database\n        const { prisma } = await Promise.resolve(/*! import() */).then(__webpack_require__.bind(__webpack_require__, /*! ./prisma */ \"(rsc)/./src/lib/prisma.ts\"));\n        const users = await prisma.user.findMany({\n            where: {\n                isVerified: true\n            },\n            select: {\n                email: true,\n                firstName: true\n            }\n        });\n        if (users.length === 0) {\n            console.log('No active users found to send low stock alerts');\n            return {\n                success: false,\n                error: 'No active users found'\n            };\n        }\n        // Send email to all users\n        const emailPromises = users.map((user)=>sendEmail({\n                to: user.email,\n                subject: `🚨 Low Stock Alert - ${lowStockItems.length} Items Need Attention`,\n                html: getLowStockAlertEmailTemplate(user.firstName, lowStockItems)\n            }));\n        const results = await Promise.allSettled(emailPromises);\n        const successful = results.filter((result)=>result.status === 'fulfilled' && result.value.success).length;\n        const failed = results.length - successful;\n        console.log(`Low stock alert sent: ${successful} successful, ${failed} failed`);\n        return {\n            success: true,\n            message: `Alert sent to ${successful} users${failed > 0 ? `, ${failed} failed` : ''}`,\n            stats: {\n                successful,\n                failed,\n                total: users.length\n            }\n        };\n    } catch (error) {\n        console.error('Error sending low stock alerts:', error);\n        return {\n            success: false,\n            error: 'Failed to send low stock alerts'\n        };\n    }\n}\nfunction getPasswordResetEmailTemplate(firstName, resetToken) {\n    const resetUrl = `${process.env.NEXTAUTH_URL}/reset-password?token=${resetToken}`;\n    return `\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <meta charset=\"utf-8\">\n      <title>Password Reset - MNSTS IMS</title>\n      <style>\n        body {\n          font-family: Arial, sans-serif;\n          background-color: #F8F6F0;\n          margin: 0;\n          padding: 20px;\n        }\n        .container {\n          max-width: 600px;\n          margin: 0 auto;\n          background-color: #FFFFFF;\n          border-radius: 12px;\n          padding: 40px;\n          box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n        }\n        .header {\n          text-align: center;\n          margin-bottom: 30px;\n        }\n        .logo {\n          font-size: 28px;\n          font-weight: bold;\n          color: #2D5F3F;\n          margin-bottom: 10px;\n        }\n        .title {\n          color: #2D5F3F;\n          font-size: 24px;\n          margin-bottom: 20px;\n        }\n        .content {\n          color: #6B6B6B;\n          line-height: 1.6;\n          margin-bottom: 30px;\n        }\n        .button {\n          display: inline-block;\n          background-color: #F4C430;\n          color: #2D5F3F;\n          padding: 12px 30px;\n          text-decoration: none;\n          border-radius: 8px;\n          font-weight: 600;\n          margin: 20px 0;\n        }\n        .footer {\n          margin-top: 40px;\n          padding-top: 20px;\n          border-top: 1px solid #E5E7EB;\n          font-size: 14px;\n          color: #6B6B6B;\n          text-align: center;\n        }\n      </style>\n    </head>\n    <body>\n      <div class=\"container\">\n        <div class=\"header\">\n          <div class=\"logo\">MNSTS IMS</div>\n          <p style=\"color: #6B6B6B;\">Medellin National Science and Technology School</p>\n        </div>\n        \n        <h1 class=\"title\">Reset Your Password</h1>\n        \n        <div class=\"content\">\n          <p>Hello ${firstName},</p>\n          <p>We received a request to reset your password for your MNSTS IMS account. If you made this request, click the button below to reset your password:</p>\n          \n          <div style=\"text-align: center;\">\n            <a href=\"${resetUrl}\" class=\"button\">Reset Password</a>\n          </div>\n          \n          <p>If the button doesn't work, you can also copy and paste this link into your browser:</p>\n          <p style=\"word-break: break-all; color: #2D5F3F;\">${resetUrl}</p>\n          \n          <p>This password reset link will expire in 1 hour for security purposes.</p>\n          \n          <p><strong>If you didn't request this password reset, please ignore this email.</strong> Your password will remain unchanged.</p>\n        </div>\n        \n        <div class=\"footer\">\n          <p>This email was sent by MNSTS Inventory Management System</p>\n          <p>If you have any questions, please contact your system administrator.</p>\n        </div>\n      </div>\n    </body>\n    </html>\n  `;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxNQUFNLEtBQUssZUFBZUQsT0FBT0UsS0FBSyxDQUFDL0MsT0FBTyxFQUFFcUIsTUFBTTtRQUN6RyxNQUFNMkIsU0FBU1IsUUFBUW5CLE1BQU0sR0FBR3NCO1FBRWhDekMsUUFBUW9DLEdBQUcsQ0FBQyxDQUFDLHNCQUFzQixFQUFFSyxXQUFXLGFBQWEsRUFBRUssT0FBTyxPQUFPLENBQUM7UUFFOUUsT0FBTztZQUNMaEQsU0FBUztZQUNUaUQsU0FBUyxDQUFDLGNBQWMsRUFBRU4sV0FBVyxNQUFNLEVBQUVLLFNBQVMsSUFBSSxDQUFDLEVBQUUsRUFBRUEsT0FBTyxPQUFPLENBQUMsR0FBRyxJQUFJO1lBQ3JGRSxPQUFPO2dCQUFFUDtnQkFBWUs7Z0JBQVFHLE9BQU9sQixNQUFNWixNQUFNO1lBQUM7UUFDbkQ7SUFFRixFQUFFLE9BQU9wQixPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxtQ0FBbUNBO1FBQ2pELE9BQU87WUFBRUQsU0FBUztZQUFPQyxPQUFPO1FBQWtDO0lBQ3BFO0FBQ0Y7QUFFTyxTQUFTbUQsOEJBQThCL0MsU0FBaUIsRUFBRWdELFVBQWtCO0lBQ2pGLE1BQU1DLFdBQVcsR0FBR2pFLFFBQVFDLEdBQUcsQ0FBQ29CLFlBQVksQ0FBQyxzQkFBc0IsRUFBRTJDLFlBQVk7SUFFakYsT0FBTyxDQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzttQkF1RVMsRUFBRWhELFVBQVU7Ozs7cUJBSVYsRUFBRWlELFNBQVM7Ozs7NERBSTRCLEVBQUVBLFNBQVM7Ozs7Ozs7Ozs7Ozs7O0VBY3JFLENBQUM7QUFDSCIsInNvdXJjZXMiOlsiRDpcXDNSRCBZRUFSXFxjdlxcZnJlZWxhbmNlXFxNTlNUUy1JTVNcXHNyY1xcbGliXFxlbWFpbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbm9kZW1haWxlciBmcm9tICdub2RlbWFpbGVyJ1xuXG5jb25zdCB0cmFuc3BvcnRlciA9IG5vZGVtYWlsZXIuY3JlYXRlVHJhbnNwb3J0KHtcbiAgc2VydmljZTogJ2dtYWlsJyxcbiAgYXV0aDoge1xuICAgIHVzZXI6IHByb2Nlc3MuZW52LkdNQUlMX1VTRVIsXG4gICAgcGFzczogcHJvY2Vzcy5lbnYuR01BSUxfUEFTU1dPUkQsXG4gIH0sXG59KVxuXG5pbnRlcmZhY2UgU2VuZEVtYWlsT3B0aW9ucyB7XG4gIHRvOiBzdHJpbmdcbiAgc3ViamVjdDogc3RyaW5nXG4gIGh0bWw6IHN0cmluZ1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZEVtYWlsKHsgdG8sIHN1YmplY3QsIGh0bWwgfTogU2VuZEVtYWlsT3B0aW9ucykge1xuICB0cnkge1xuICAgIGF3YWl0IHRyYW5zcG9ydGVyLnNlbmRNYWlsKHtcbiAgICAgIGZyb206IGBcIk1OU1RTIElNU1wiIDwke3Byb2Nlc3MuZW52LkdNQUlMX1VTRVJ9PmAsXG4gICAgICB0byxcbiAgICAgIHN1YmplY3QsXG4gICAgICBodG1sLFxuICAgIH0pXG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRW1haWwgc2VuZCBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdGYWlsZWQgdG8gc2VuZCBlbWFpbCcgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRBZG1pblZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGUodXNlckRldGFpbHM6IHtcbiAgZmlyc3ROYW1lOiBzdHJpbmcsXG4gIGxhc3ROYW1lOiBzdHJpbmcsXG4gIGVtYWlsOiBzdHJpbmcsXG4gIHZlcmlmaWNhdGlvblRva2VuOiBzdHJpbmdcbn0pIHtcbiAgY29uc3QgeyBmaXJzdE5hbWUsIGxhc3ROYW1lLCBlbWFpbCwgdmVyaWZpY2F0aW9uVG9rZW4gfSA9IHVzZXJEZXRhaWxzXG4gIGNvbnN0IHZlcmlmaWNhdGlvblVybCA9IGAke3Byb2Nlc3MuZW52Lk5FWFRBVVRIX1VSTH0vYWRtaW4vdmVyaWZ5LXVzZXI/dG9rZW49JHt2ZXJpZmljYXRpb25Ub2tlbn1gXG5cbiAgcmV0dXJuIGBcbiAgICA8IURPQ1RZUEUgaHRtbD5cbiAgICA8aHRtbD5cbiAgICA8aGVhZD5cbiAgICAgIDxtZXRhIGNoYXJzZXQ9XCJ1dGYtOFwiPlxuICAgICAgPHRpdGxlPk5ldyBVc2VyIFJlZ2lzdHJhdGlvbiAtIE1OU1RTIElNUzwvdGl0bGU+XG4gICAgICA8c3R5bGU+XG4gICAgICAgIGJvZHkge1xuICAgICAgICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjhGNkYwO1xuICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICB9XG4gICAgICAgIC5jb250YWluZXIge1xuICAgICAgICAgIG1heC13aWR0aDogNjAwcHg7XG4gICAgICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRkZGRjtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgICAgICAgIHBhZGRpbmc6IDQwcHg7XG4gICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggNnB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICAgICAgfVxuICAgICAgICAuaGVhZGVyIHtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDtcbiAgICAgICAgfVxuICAgICAgICAubG9nbyB7XG4gICAgICAgICAgZm9udC1zaXplOiAyOHB4O1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICAgIGNvbG9yOiAjMkQ1RjNGO1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgICAgIH1cbiAgICAgICAgLnRpdGxlIHtcbiAgICAgICAgICBjb2xvcjogIzJENUYzRjtcbiAgICAgICAgICBmb250LXNpemU6IDI0cHg7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICAgICAgfVxuICAgICAgICAuY29udGVudCB7XG4gICAgICAgICAgY29sb3I6ICM2QjZCNkI7XG4gICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNjtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xuICAgICAgICB9XG4gICAgICAgIC51c2VyLWRldGFpbHMge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGOEY2RjA7XG4gICAgICAgICAgYm9yZGVyLWxlZnQ6IDRweCBzb2xpZCAjMkQ1RjNGO1xuICAgICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgICAgbWFyZ2luOiAyMHB4IDA7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogMCA4cHggOHB4IDA7XG4gICAgICAgIH1cbiAgICAgICAgLnVzZXItZGV0YWlscyBoNCB7XG4gICAgICAgICAgY29sb3I6ICMyRDVGM0Y7XG4gICAgICAgICAgbWFyZ2luLXRvcDogMDtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNXB4O1xuICAgICAgICB9XG4gICAgICAgIC51c2VyLWRldGFpbHMgcCB7XG4gICAgICAgICAgbWFyZ2luOiA4cHggMDtcbiAgICAgICAgICBjb2xvcjogIzJENUYzRjtcbiAgICAgICAgfVxuICAgICAgICAuYnV0dG9uIHtcbiAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzJENUYzRjtcbiAgICAgICAgICBjb2xvcjogI0ZGRkZGRjtcbiAgICAgICAgICBwYWRkaW5nOiAxMnB4IDMwcHg7XG4gICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICAgIG1hcmdpbjogMjBweCAwO1xuICAgICAgICB9XG4gICAgICAgIC5idXR0b24uYXBwcm92ZSB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzA1OTY2OTtcbiAgICAgICAgfVxuICAgICAgICAuYnV0dG9uLnJlamVjdCB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0RDMjYyNjtcbiAgICAgICAgICBtYXJnaW4tbGVmdDogMTBweDtcbiAgICAgICAgfVxuICAgICAgICAuZm9vdGVyIHtcbiAgICAgICAgICBtYXJnaW4tdG9wOiA0MHB4O1xuICAgICAgICAgIHBhZGRpbmctdG9wOiAyMHB4O1xuICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjRTVFN0VCO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgICBjb2xvcjogIzZCNkI2QjtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIH1cbiAgICAgICAgLmJ1dHRvbnMtY29udGFpbmVyIHtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgbWFyZ2luOiAzMHB4IDA7XG4gICAgICAgIH1cbiAgICAgICAgLndhcm5pbmcge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGRUYzQzc7XG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI0Y1OUUwQjtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgICAgcGFkZGluZzogMTVweDtcbiAgICAgICAgICBtYXJnaW46IDIwcHggMDtcbiAgICAgICAgICBjb2xvcjogIzkyNDAwRTtcbiAgICAgICAgfVxuICAgICAgPC9zdHlsZT5cbiAgICA8L2hlYWQ+XG4gICAgPGJvZHk+XG4gICAgICA8ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibG9nb1wiPk1OU1RTIElNUzwvZGl2PlxuICAgICAgICAgIDxwIHN0eWxlPVwiY29sb3I6ICM2QjZCNkI7XCI+TWVkZWxsaW4gTmF0aW9uYWwgU2NpZW5jZSBhbmQgVGVjaG5vbG9neSBTY2hvb2w8L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxoMSBjbGFzcz1cInRpdGxlXCI+TmV3IFVzZXIgUmVnaXN0cmF0aW9uIFJlcXVlc3Q8L2gxPlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZW50XCI+XG4gICAgICAgICAgPHA+SGVsbG8gQWRtaW4sPC9wPlxuICAgICAgICAgIDxwPkEgbmV3IHVzZXIgaGFzIHJlZ2lzdGVyZWQgZm9yIHRoZSBNTlNUUyBJbnZlbnRvcnkgTWFuYWdlbWVudCBTeXN0ZW0gYW5kIHJlcXVpcmVzIGFwcHJvdmFsIGJlZm9yZSB0aGV5IGNhbiBhY2Nlc3MgdGhlIHN5c3RlbS48L3A+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidXNlci1kZXRhaWxzXCI+XG4gICAgICAgICAgICA8aDQ+8J+RpCBVc2VyIEluZm9ybWF0aW9uPC9oND5cbiAgICAgICAgICAgIDxwPjxzdHJvbmc+TmFtZTo8L3N0cm9uZz4gJHtmaXJzdE5hbWV9ICR7bGFzdE5hbWV9PC9wPlxuICAgICAgICAgICAgPHA+PHN0cm9uZz5FbWFpbDo8L3N0cm9uZz4gJHtlbWFpbH08L3A+XG4gICAgICAgICAgICA8cD48c3Ryb25nPlJlZ2lzdHJhdGlvbiBEYXRlOjwvc3Ryb25nPiAke25ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHtcbiAgICAgICAgICAgICAgeWVhcjogJ251bWVyaWMnLFxuICAgICAgICAgICAgICBtb250aDogJ2xvbmcnLFxuICAgICAgICAgICAgICBkYXk6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgaG91cjogJzItZGlnaXQnLFxuICAgICAgICAgICAgICBtaW51dGU6ICcyLWRpZ2l0J1xuICAgICAgICAgICAgfSl9PC9wPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzcz1cIndhcm5pbmdcIj5cbiAgICAgICAgICAgIDxzdHJvbmc+4pqg77iPIEFkbWluIEFjdGlvbiBSZXF1aXJlZDo8L3N0cm9uZz48YnI+XG4gICAgICAgICAgICBUaGlzIHVzZXIgYWNjb3VudCBpcyBjdXJyZW50bHkgaW5hY3RpdmUgYW5kIHJlcXVpcmVzIHlvdXIgYXBwcm92YWwgYmVmb3JlIHRoZSB1c2VyIGNhbiBzaWduIGluIHRvIHRoZSBzeXN0ZW0uXG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8cD5QbGVhc2UgcmV2aWV3IHRoaXMgcmVnaXN0cmF0aW9uIHJlcXVlc3QgYW5kIGNob29zZSBvbmUgb2YgdGhlIGZvbGxvd2luZyBhY3Rpb25zOjwvcD5cblxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJidXR0b25zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGEgaHJlZj1cIiR7dmVyaWZpY2F0aW9uVXJsfSZhY3Rpb249YXBwcm92ZVwiIGNsYXNzPVwiYnV0dG9uIGFwcHJvdmVcIj7inIUgQXBwcm92ZSBVc2VyPC9hPlxuICAgICAgICAgICAgPGEgaHJlZj1cIiR7dmVyaWZpY2F0aW9uVXJsfSZhY3Rpb249cmVqZWN0XCIgY2xhc3M9XCJidXR0b24gcmVqZWN0XCI+4p2MIFJlamVjdCBSZWdpc3RyYXRpb248L2E+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8cD48c3Ryb25nPldoYXQgaGFwcGVucyBuZXh0Ojwvc3Ryb25nPjwvcD5cbiAgICAgICAgICA8dWw+XG4gICAgICAgICAgICA8bGk+PHN0cm9uZz5JZiB5b3UgYXBwcm92ZTo8L3N0cm9uZz4gVGhlIHVzZXIgd2lsbCBiZSBhY3RpdmF0ZWQgYW5kIGNhbiBzaWduIGluIGltbWVkaWF0ZWx5PC9saT5cbiAgICAgICAgICAgIDxsaT48c3Ryb25nPklmIHlvdSByZWplY3Q6PC9zdHJvbmc+IFRoZSByZWdpc3RyYXRpb24gd2lsbCBiZSBkZWxldGVkIGFuZCB0aGUgdXNlciB3aWxsIG5lZWQgdG8gcmVnaXN0ZXIgYWdhaW48L2xpPlxuICAgICAgICAgIDwvdWw+XG5cbiAgICAgICAgICA8cD5JZiB0aGUgYnV0dG9ucyBkb24ndCB3b3JrLCB5b3UgY2FuIGNvcHkgYW5kIHBhc3RlIHRoaXMgbGluayBpbnRvIHlvdXIgYnJvd3Nlcjo8L3A+XG4gICAgICAgICAgPHAgc3R5bGU9XCJ3b3JkLWJyZWFrOiBicmVhay1hbGw7IGNvbG9yOiAjMkQ1RjNGOyBmb250LXNpemU6IDEycHg7XCI+JHt2ZXJpZmljYXRpb25Vcmx9PC9wPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9vdGVyXCI+XG4gICAgICAgICAgPHA+VGhpcyB2ZXJpZmljYXRpb24gcmVxdWVzdCB3YXMgc2VudCBieSBNTlNUUyBJbnZlbnRvcnkgTWFuYWdlbWVudCBTeXN0ZW08L3A+XG4gICAgICAgICAgPHA+QXMgdGhlIHN5c3RlbSBhZG1pbmlzdHJhdG9yLCBvbmx5IHlvdSBjYW4gYXBwcm92ZSBuZXcgdXNlciByZWdpc3RyYXRpb25zLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2JvZHk+XG4gICAgPC9odG1sPlxuICBgXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlKGZpcnN0TmFtZTogc3RyaW5nLCB2ZXJpZmljYXRpb25Ub2tlbjogc3RyaW5nKSB7XG4gIGNvbnN0IHZlcmlmaWNhdGlvblVybCA9IGAke3Byb2Nlc3MuZW52Lk5FWFRBVVRIX1VSTH0vdmVyaWZ5P3Rva2VuPSR7dmVyaWZpY2F0aW9uVG9rZW59YFxuICBcbiAgcmV0dXJuIGBcbiAgICA8IURPQ1RZUEUgaHRtbD5cbiAgICA8aHRtbD5cbiAgICA8aGVhZD5cbiAgICAgIDxtZXRhIGNoYXJzZXQ9XCJ1dGYtOFwiPlxuICAgICAgPHRpdGxlPkVtYWlsIFZlcmlmaWNhdGlvbiAtIE1OU1RTIElNUzwvdGl0bGU+XG4gICAgICA8c3R5bGU+XG4gICAgICAgIGJvZHkge1xuICAgICAgICAgIGZvbnQtZmFtaWx5OiBBcmlhbCwgc2Fucy1zZXJpZjtcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRjhGNkYwO1xuICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgICBwYWRkaW5nOiAyMHB4O1xuICAgICAgICB9XG4gICAgICAgIC5jb250YWluZXIge1xuICAgICAgICAgIG1heC13aWR0aDogNjAwcHg7XG4gICAgICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0ZGRkZGRjtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAxMnB4O1xuICAgICAgICAgIHBhZGRpbmc6IDQwcHg7XG4gICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggNnB4IHJnYmEoMCwgMCwgMCwgMC4xKTtcbiAgICAgICAgfVxuICAgICAgICAuaGVhZGVyIHtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDtcbiAgICAgICAgfVxuICAgICAgICAubG9nbyB7XG4gICAgICAgICAgZm9udC1zaXplOiAyOHB4O1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICAgIGNvbG9yOiAjMkQ1RjNGO1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XG4gICAgICAgIH1cbiAgICAgICAgLnRpdGxlIHtcbiAgICAgICAgICBjb2xvcjogIzJENUYzRjtcbiAgICAgICAgICBmb250LXNpemU6IDI0cHg7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgICAgICAgfVxuICAgICAgICAuY29udGVudCB7XG4gICAgICAgICAgY29sb3I6ICM2QjZCNkI7XG4gICAgICAgICAgbGluZS1oZWlnaHQ6IDEuNjtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xuICAgICAgICB9XG4gICAgICAgIC5idXR0b24ge1xuICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMkQ1RjNGO1xuICAgICAgICAgIGNvbG9yOiAjRkZGRkZGO1xuICAgICAgICAgIHBhZGRpbmc6IDEycHggMzBweDtcbiAgICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xuICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7XG4gICAgICAgICAgbWFyZ2luOiAyMHB4IDA7XG4gICAgICAgIH1cbiAgICAgICAgLmZvb3RlciB7XG4gICAgICAgICAgbWFyZ2luLXRvcDogNDBweDtcbiAgICAgICAgICBwYWRkaW5nLXRvcDogMjBweDtcbiAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgI0U1RTdFQjtcbiAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgY29sb3I6ICM2QjZCNkI7XG4gICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICB9XG4gICAgICA8L3N0eWxlPlxuICAgIDwvaGVhZD5cbiAgICA8Ym9keT5cbiAgICAgIDxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhlYWRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJsb2dvXCI+TU5TVFMgSU1TPC9kaXY+XG4gICAgICAgICAgPHAgc3R5bGU9XCJjb2xvcjogIzZCNkI2QjtcIj5NZWRlbGxpbiBOYXRpb25hbCBTY2llbmNlIGFuZCBUZWNobm9sb2d5IFNjaG9vbDwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8aDEgY2xhc3M9XCJ0aXRsZVwiPlZlcmlmeSBZb3VyIEVtYWlsIEFkZHJlc3M8L2gxPlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRlbnRcIj5cbiAgICAgICAgICA8cD5IZWxsbyAke2ZpcnN0TmFtZX0sPC9wPlxuICAgICAgICAgIDxwPlRoYW5rIHlvdSBmb3IgY3JlYXRpbmcgYW4gYWNjb3VudCB3aXRoIHRoZSBNTlNUUyBJbnZlbnRvcnkgTWFuYWdlbWVudCBTeXN0ZW0uIFRvIGNvbXBsZXRlIHlvdXIgcmVnaXN0cmF0aW9uIGFuZCBzdGFydCBtYW5hZ2luZyBpbnZlbnRvcnksIHBsZWFzZSB2ZXJpZnkgeW91ciBlbWFpbCBhZGRyZXNzIGJ5IGNsaWNraW5nIHRoZSBidXR0b24gYmVsb3c6PC9wPlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XG4gICAgICAgICAgICA8YSBocmVmPVwiJHt2ZXJpZmljYXRpb25Vcmx9XCIgY2xhc3M9XCJidXR0b25cIj5WZXJpZnkgRW1haWwgQWRkcmVzczwvYT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8cD5JZiB0aGUgYnV0dG9uIGRvZXNuJ3Qgd29yaywgeW91IGNhbiBhbHNvIGNvcHkgYW5kIHBhc3RlIHRoaXMgbGluayBpbnRvIHlvdXIgYnJvd3Nlcjo8L3A+XG4gICAgICAgICAgPHAgc3R5bGU9XCJ3b3JkLWJyZWFrOiBicmVhay1hbGw7IGNvbG9yOiAjMkQ1RjNGO1wiPiR7dmVyaWZpY2F0aW9uVXJsfTwvcD5cbiAgICAgICAgICBcbiAgICAgICAgICA8cD5UaGlzIHZlcmlmaWNhdGlvbiBsaW5rIHdpbGwgZXhwaXJlIGluIDI0IGhvdXJzIGZvciBzZWN1cml0eSBwdXJwb3Nlcy48L3A+XG4gICAgICAgICAgXG4gICAgICAgICAgPHA+SWYgeW91IGRpZG4ndCBjcmVhdGUgdGhpcyBhY2NvdW50LCB5b3UgY2FuIHNhZmVseSBpZ25vcmUgdGhpcyBlbWFpbC48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvb3RlclwiPlxuICAgICAgICAgIDxwPlRoaXMgZW1haWwgd2FzIHNlbnQgYnkgTU5TVFMgSW52ZW50b3J5IE1hbmFnZW1lbnQgU3lzdGVtPC9wPlxuICAgICAgICAgIDxwPklmIHlvdSBoYXZlIGFueSBxdWVzdGlvbnMsIHBsZWFzZSBjb250YWN0IHlvdXIgc3lzdGVtIGFkbWluaXN0cmF0b3IuPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvYm9keT5cbiAgICA8L2h0bWw+XG4gIGBcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb3dTdG9ja0l0ZW0ge1xuICBuYW1lOiBzdHJpbmdcbiAgc2t1OiBzdHJpbmdcbiAgY2F0ZWdvcnk6IHN0cmluZ1xuICBjdXJyZW50U3RvY2s6IG51bWJlclxuICBtaW5TdG9jazogbnVtYmVyXG4gIHNob3J0YWdlOiBudW1iZXJcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldExvd1N0b2NrQWxlcnRFbWFpbFRlbXBsYXRlKGZpcnN0TmFtZTogc3RyaW5nLCBsb3dTdG9ja0l0ZW1zOiBMb3dTdG9ja0l0ZW1bXSkge1xuICByZXR1cm4gYFxuICAgIDwhRE9DVFlQRSBodG1sPlxuICAgIDxodG1sPlxuICAgIDxoZWFkPlxuICAgICAgPG1ldGEgY2hhcnNldD1cInV0Zi04XCI+XG4gICAgICA8dGl0bGU+TG93IFN0b2NrIEFsZXJ0IC0gTU5TVFMgSU1TPC90aXRsZT5cbiAgICAgIDxzdHlsZT5cbiAgICAgICAgYm9keSB7XG4gICAgICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGOEY2RjA7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgIH1cbiAgICAgICAgLmNvbnRhaW5lciB7XG4gICAgICAgICAgbWF4LXdpZHRoOiA2MDBweDtcbiAgICAgICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGRkZGO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgICAgICAgcGFkZGluZzogNDBweDtcbiAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgICAgICB9XG4gICAgICAgIC5oZWFkZXIge1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xuICAgICAgICB9XG4gICAgICAgIC5sb2dvIHtcbiAgICAgICAgICBmb250LXNpemU6IDI4cHg7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgY29sb3I6ICMyRDVGM0Y7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICAgICAgfVxuICAgICAgICAuYWxlcnQtdGl0bGUge1xuICAgICAgICAgIGNvbG9yOiAjREMyNjI2O1xuICAgICAgICAgIGZvbnQtc2l6ZTogMjRweDtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgICBnYXA6IDEwcHg7XG4gICAgICAgIH1cbiAgICAgICAgLmFsZXJ0LWljb24ge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGRUUyRTI7XG4gICAgICAgICAgY29sb3I6ICNEQzI2MjY7XG4gICAgICAgICAgcGFkZGluZzogOHB4O1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgICBmb250LXNpemU6IDIwcHg7XG4gICAgICAgIH1cbiAgICAgICAgLmNvbnRlbnQge1xuICAgICAgICAgIGNvbG9yOiAjNkI2QjZCO1xuICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjY7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDtcbiAgICAgICAgfVxuICAgICAgICAuaXRlbXMtdGFibGUge1xuICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG4gICAgICAgICAgbWFyZ2luOiAyMHB4IDA7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0ZFRjdGMDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgfVxuICAgICAgICAuaXRlbXMtdGFibGUgdGgge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGRUQ3QUE7XG4gICAgICAgICAgY29sb3I6ICM5QTM0MTI7XG4gICAgICAgICAgcGFkZGluZzogMTJweCA4cHg7XG4gICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDtcbiAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgfVxuICAgICAgICAuaXRlbXMtdGFibGUgdGQge1xuICAgICAgICAgIHBhZGRpbmc6IDEycHggOHB4O1xuICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjRkVEN0FBO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgfVxuICAgICAgICAuaXRlbXMtdGFibGUgdHI6bGFzdC1jaGlsZCB0ZCB7XG4gICAgICAgICAgYm9yZGVyLWJvdHRvbTogbm9uZTtcbiAgICAgICAgfVxuICAgICAgICAuc2hvcnRhZ2Uge1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGRUUyRTI7XG4gICAgICAgICAgY29sb3I6ICNEQzI2MjY7XG4gICAgICAgICAgcGFkZGluZzogNHB4IDhweDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIH1cbiAgICAgICAgLnVyZ2VudCB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0ZFQ0FDQTtcbiAgICAgICAgICBjb2xvcjogIzk5MUIxQjtcbiAgICAgICAgfVxuICAgICAgICAuYnV0dG9uIHtcbiAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0RDMjYyNjtcbiAgICAgICAgICBjb2xvcjogI0ZGRkZGRjtcbiAgICAgICAgICBwYWRkaW5nOiAxMnB4IDMwcHg7XG4gICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcbiAgICAgICAgICBmb250LXdlaWdodDogNjAwO1xuICAgICAgICAgIG1hcmdpbjogMjBweCAwO1xuICAgICAgICB9XG4gICAgICAgIC5mb290ZXIge1xuICAgICAgICAgIG1hcmdpbi10b3A6IDQwcHg7XG4gICAgICAgICAgcGFkZGluZy10b3A6IDIwcHg7XG4gICAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNFNUU3RUI7XG4gICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgIGNvbG9yOiAjNkI2QjZCO1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgfVxuICAgICAgICAuc3VtbWFyeSB7XG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI0ZFRjJGMjtcbiAgICAgICAgICBib3JkZXItbGVmdDogNHB4IHNvbGlkICNEQzI2MjY7XG4gICAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgICAgICBtYXJnaW46IDIwcHggMDtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgIH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC9oZWFkPlxuICAgIDxib2R5PlxuICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImxvZ29cIj5NTlNUUyBJTVM8L2Rpdj5cbiAgICAgICAgICA8cCBzdHlsZT1cImNvbG9yOiAjNkI2QjZCO1wiPk1lZGVsbGluIE5hdGlvbmFsIFNjaWVuY2UgYW5kIFRlY2hub2xvZ3kgU2Nob29sPC9wPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8aDEgY2xhc3M9XCJhbGVydC10aXRsZVwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYWxlcnQtaWNvblwiPuKaoDwvc3Bhbj5cbiAgICAgICAgICBMb3cgU3RvY2sgQWxlcnRcbiAgICAgICAgPC9oMT5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuICAgICAgICAgIDxwPkhlbGxvICR7Zmlyc3ROYW1lfSw8L3A+XG4gICAgICAgICAgPHA+VGhpcyBpcyBhbiBhdXRvbWF0ZWQgYWxlcnQgZnJvbSB0aGUgTU5TVFMgSW52ZW50b3J5IE1hbmFnZW1lbnQgU3lzdGVtLiBUaGUgZm9sbG93aW5nIGl0ZW1zIGhhdmUgZmFsbGVuIGJlbG93IHRoZWlyIG1pbmltdW0gc3RvY2sgbGV2ZWxzIGFuZCByZXF1aXJlIGltbWVkaWF0ZSBhdHRlbnRpb246PC9wPlxuXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInN1bW1hcnlcIj5cbiAgICAgICAgICAgIDxzdHJvbmc+QWxlcnQgU3VtbWFyeTo8L3N0cm9uZz48YnI+XG4gICAgICAgICAgICDigKIgPHN0cm9uZz4ke2xvd1N0b2NrSXRlbXMubGVuZ3RofTwvc3Ryb25nPiBpdGVtKHMpIGJlbG93IG1pbmltdW0gc3RvY2s8YnI+XG4gICAgICAgICAgICDigKIgSW1tZWRpYXRlIHJlc3RvY2tpbmcgcmVjb21tZW5kZWQ8YnI+XG4gICAgICAgICAgICDigKIgR2VuZXJhdGVkIG9uOiAke25ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIHtcbiAgICAgICAgICAgICAgeWVhcjogJ251bWVyaWMnLFxuICAgICAgICAgICAgICBtb250aDogJ2xvbmcnLFxuICAgICAgICAgICAgICBkYXk6ICdudW1lcmljJyxcbiAgICAgICAgICAgICAgaG91cjogJzItZGlnaXQnLFxuICAgICAgICAgICAgICBtaW51dGU6ICcyLWRpZ2l0J1xuICAgICAgICAgICAgfSl9XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8dGFibGUgY2xhc3M9XCJpdGVtcy10YWJsZVwiPlxuICAgICAgICAgICAgPHRoZWFkPlxuICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgPHRoPkl0ZW0gTmFtZTwvdGg+XG4gICAgICAgICAgICAgICAgPHRoPlNLVTwvdGg+XG4gICAgICAgICAgICAgICAgPHRoPkNhdGVnb3J5PC90aD5cbiAgICAgICAgICAgICAgICA8dGg+Q3VycmVudDwvdGg+XG4gICAgICAgICAgICAgICAgPHRoPk1pbiBSZXF1aXJlZDwvdGg+XG4gICAgICAgICAgICAgICAgPHRoPlNob3J0YWdlPC90aD5cbiAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgICA8dGJvZHk+XG4gICAgICAgICAgICAgICR7bG93U3RvY2tJdGVtcy5tYXAoaXRlbSA9PiBgXG4gICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgPHRkPjxzdHJvbmc+JHtpdGVtLm5hbWV9PC9zdHJvbmc+PC90ZD5cbiAgICAgICAgICAgICAgICAgIDx0ZD4ke2l0ZW0uc2t1fTwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQ+JHtpdGVtLmNhdGVnb3J5fTwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQ+JHtpdGVtLmN1cnJlbnRTdG9ja308L3RkPlxuICAgICAgICAgICAgICAgICAgPHRkPiR7aXRlbS5taW5TdG9ja308L3RkPlxuICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwic2hvcnRhZ2UgJHtpdGVtLmN1cnJlbnRTdG9jayA9PT0gMCA/ICd1cmdlbnQnIDogJyd9XCI+JHtpdGVtLnNob3J0YWdlfTwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgYCkuam9pbignJyl9XG4gICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgIDwvdGFibGU+XG5cbiAgICAgICAgICA8cD48c3Ryb25nPlJlY29tbWVuZGVkIEFjdGlvbnM6PC9zdHJvbmc+PC9wPlxuICAgICAgICAgIDx1bD5cbiAgICAgICAgICAgIDxsaT5SZXZpZXcgYW5kIHVwZGF0ZSBwcm9jdXJlbWVudCBvcmRlcnM8L2xpPlxuICAgICAgICAgICAgPGxpPkNoZWNrIHdpdGggc3VwcGxpZXJzIGZvciBhdmFpbGFiaWxpdHk8L2xpPlxuICAgICAgICAgICAgPGxpPkNvbnNpZGVyIGFsdGVybmF0aXZlIHNvdXJjaW5nIGlmIG5lZWRlZDwvbGk+XG4gICAgICAgICAgICA8bGk+VXBkYXRlIHN0b2NrIGxldmVscyBvbmNlIGl0ZW1zIGFyZSByZXN0b2NrZWQ8L2xpPlxuICAgICAgICAgIDwvdWw+XG5cbiAgICAgICAgICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyO1wiPlxuICAgICAgICAgICAgPGEgaHJlZj1cIiR7cHJvY2Vzcy5lbnYuTkVYVEFVVEhfVVJMfS9vdmVydmlld1wiIGNsYXNzPVwiYnV0dG9uXCI+VmlldyBEYXNoYm9hcmQ8L2E+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb290ZXJcIj5cbiAgICAgICAgICA8cD5UaGlzIGlzIGFuIGF1dG9tYXRlZCBhbGVydCBmcm9tIE1OU1RTIEludmVudG9yeSBNYW5hZ2VtZW50IFN5c3RlbTwvcD5cbiAgICAgICAgICA8cD5QbGVhc2UgZG8gbm90IHJlcGx5IHRvIHRoaXMgZW1haWwuIEZvciBxdWVzdGlvbnMsIGNvbnRhY3QgeW91ciBzeXN0ZW0gYWRtaW5pc3RyYXRvci48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9ib2R5PlxuICAgIDwvaHRtbD5cbiAgYFxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZExvd1N0b2NrQWxlcnQobG93U3RvY2tJdGVtczogTG93U3RvY2tJdGVtW10pIHtcbiAgdHJ5IHtcbiAgICAvLyBGaXJzdCwgZ2V0IGFsbCB2ZXJpZmllZCB1c2VycyBmcm9tIHRoZSBkYXRhYmFzZVxuICAgIGNvbnN0IHsgcHJpc21hIH0gPSBhd2FpdCBpbXBvcnQoJy4vcHJpc21hJylcbiAgICBjb25zdCB1c2VycyA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRNYW55KHtcbiAgICAgIHdoZXJlOiB7XG4gICAgICAgIGlzVmVyaWZpZWQ6IHRydWVcbiAgICAgIH0sXG4gICAgICBzZWxlY3Q6IHtcbiAgICAgICAgZW1haWw6IHRydWUsXG4gICAgICAgIGZpcnN0TmFtZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBpZiAodXNlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zb2xlLmxvZygnTm8gYWN0aXZlIHVzZXJzIGZvdW5kIHRvIHNlbmQgbG93IHN0b2NrIGFsZXJ0cycpXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdObyBhY3RpdmUgdXNlcnMgZm91bmQnIH1cbiAgICB9XG5cbiAgICAvLyBTZW5kIGVtYWlsIHRvIGFsbCB1c2Vyc1xuICAgIGNvbnN0IGVtYWlsUHJvbWlzZXMgPSB1c2Vycy5tYXAodXNlciA9PlxuICAgICAgc2VuZEVtYWlsKHtcbiAgICAgICAgdG86IHVzZXIuZW1haWwsXG4gICAgICAgIHN1YmplY3Q6IGDwn5qoIExvdyBTdG9jayBBbGVydCAtICR7bG93U3RvY2tJdGVtcy5sZW5ndGh9IEl0ZW1zIE5lZWQgQXR0ZW50aW9uYCxcbiAgICAgICAgaHRtbDogZ2V0TG93U3RvY2tBbGVydEVtYWlsVGVtcGxhdGUodXNlci5maXJzdE5hbWUsIGxvd1N0b2NrSXRlbXMpXG4gICAgICB9KVxuICAgIClcblxuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQoZW1haWxQcm9taXNlcylcblxuICAgIGNvbnN0IHN1Y2Nlc3NmdWwgPSByZXN1bHRzLmZpbHRlcihyZXN1bHQgPT4gcmVzdWx0LnN0YXR1cyA9PT0gJ2Z1bGZpbGxlZCcgJiYgcmVzdWx0LnZhbHVlLnN1Y2Nlc3MpLmxlbmd0aFxuICAgIGNvbnN0IGZhaWxlZCA9IHJlc3VsdHMubGVuZ3RoIC0gc3VjY2Vzc2Z1bFxuXG4gICAgY29uc29sZS5sb2coYExvdyBzdG9jayBhbGVydCBzZW50OiAke3N1Y2Nlc3NmdWx9IHN1Y2Nlc3NmdWwsICR7ZmFpbGVkfSBmYWlsZWRgKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBtZXNzYWdlOiBgQWxlcnQgc2VudCB0byAke3N1Y2Nlc3NmdWx9IHVzZXJzJHtmYWlsZWQgPiAwID8gYCwgJHtmYWlsZWR9IGZhaWxlZGAgOiAnJ31gLFxuICAgICAgc3RhdHM6IHsgc3VjY2Vzc2Z1bCwgZmFpbGVkLCB0b3RhbDogdXNlcnMubGVuZ3RoIH1cbiAgICB9XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZW5kaW5nIGxvdyBzdG9jayBhbGVydHM6JywgZXJyb3IpXG4gICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnRmFpbGVkIHRvIHNlbmQgbG93IHN0b2NrIGFsZXJ0cycgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXNzd29yZFJlc2V0RW1haWxUZW1wbGF0ZShmaXJzdE5hbWU6IHN0cmluZywgcmVzZXRUb2tlbjogc3RyaW5nKSB7XG4gIGNvbnN0IHJlc2V0VXJsID0gYCR7cHJvY2Vzcy5lbnYuTkVYVEFVVEhfVVJMfS9yZXNldC1wYXNzd29yZD90b2tlbj0ke3Jlc2V0VG9rZW59YFxuICBcbiAgcmV0dXJuIGBcbiAgICA8IURPQ1RZUEUgaHRtbD5cbiAgICA8aHRtbD5cbiAgICA8aGVhZD5cbiAgICAgIDxtZXRhIGNoYXJzZXQ9XCJ1dGYtOFwiPlxuICAgICAgPHRpdGxlPlBhc3N3b3JkIFJlc2V0IC0gTU5TVFMgSU1TPC90aXRsZT5cbiAgICAgIDxzdHlsZT5cbiAgICAgICAgYm9keSB7XG4gICAgICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGOEY2RjA7XG4gICAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICAgIHBhZGRpbmc6IDIwcHg7XG4gICAgICAgIH1cbiAgICAgICAgLmNvbnRhaW5lciB7XG4gICAgICAgICAgbWF4LXdpZHRoOiA2MDBweDtcbiAgICAgICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGRkZGO1xuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgICAgICAgcGFkZGluZzogNDBweDtcbiAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xuICAgICAgICB9XG4gICAgICAgIC5oZWFkZXIge1xuICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xuICAgICAgICB9XG4gICAgICAgIC5sb2dvIHtcbiAgICAgICAgICBmb250LXNpemU6IDI4cHg7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgY29sb3I6ICMyRDVGM0Y7XG4gICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICAgICAgfVxuICAgICAgICAudGl0bGUge1xuICAgICAgICAgIGNvbG9yOiAjMkQ1RjNGO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMjRweDtcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgICAgICB9XG4gICAgICAgIC5jb250ZW50IHtcbiAgICAgICAgICBjb2xvcjogIzZCNkI2QjtcbiAgICAgICAgICBsaW5lLWhlaWdodDogMS42O1xuICAgICAgICAgIG1hcmdpbi1ib3R0b206IDMwcHg7XG4gICAgICAgIH1cbiAgICAgICAgLmJ1dHRvbiB7XG4gICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNGNEM0MzA7XG4gICAgICAgICAgY29sb3I6ICMyRDVGM0Y7XG4gICAgICAgICAgcGFkZGluZzogMTJweCAzMHB4O1xuICAgICAgICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7XG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgICBtYXJnaW46IDIwcHggMDtcbiAgICAgICAgfVxuICAgICAgICAuZm9vdGVyIHtcbiAgICAgICAgICBtYXJnaW4tdG9wOiA0MHB4O1xuICAgICAgICAgIHBhZGRpbmctdG9wOiAyMHB4O1xuICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjRTVFN0VCO1xuICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICAgICAgICBjb2xvcjogIzZCNkI2QjtcbiAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgIH1cbiAgICAgIDwvc3R5bGU+XG4gICAgPC9oZWFkPlxuICAgIDxib2R5PlxuICAgICAgPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaGVhZGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImxvZ29cIj5NTlNUUyBJTVM8L2Rpdj5cbiAgICAgICAgICA8cCBzdHlsZT1cImNvbG9yOiAjNkI2QjZCO1wiPk1lZGVsbGluIE5hdGlvbmFsIFNjaWVuY2UgYW5kIFRlY2hub2xvZ3kgU2Nob29sPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxoMSBjbGFzcz1cInRpdGxlXCI+UmVzZXQgWW91ciBQYXNzd29yZDwvaDE+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGVudFwiPlxuICAgICAgICAgIDxwPkhlbGxvICR7Zmlyc3ROYW1lfSw8L3A+XG4gICAgICAgICAgPHA+V2UgcmVjZWl2ZWQgYSByZXF1ZXN0IHRvIHJlc2V0IHlvdXIgcGFzc3dvcmQgZm9yIHlvdXIgTU5TVFMgSU1TIGFjY291bnQuIElmIHlvdSBtYWRlIHRoaXMgcmVxdWVzdCwgY2xpY2sgdGhlIGJ1dHRvbiBiZWxvdyB0byByZXNldCB5b3VyIHBhc3N3b3JkOjwvcD5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IHN0eWxlPVwidGV4dC1hbGlnbjogY2VudGVyO1wiPlxuICAgICAgICAgICAgPGEgaHJlZj1cIiR7cmVzZXRVcmx9XCIgY2xhc3M9XCJidXR0b25cIj5SZXNldCBQYXNzd29yZDwvYT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICBcbiAgICAgICAgICA8cD5JZiB0aGUgYnV0dG9uIGRvZXNuJ3Qgd29yaywgeW91IGNhbiBhbHNvIGNvcHkgYW5kIHBhc3RlIHRoaXMgbGluayBpbnRvIHlvdXIgYnJvd3Nlcjo8L3A+XG4gICAgICAgICAgPHAgc3R5bGU9XCJ3b3JkLWJyZWFrOiBicmVhay1hbGw7IGNvbG9yOiAjMkQ1RjNGO1wiPiR7cmVzZXRVcmx9PC9wPlxuICAgICAgICAgIFxuICAgICAgICAgIDxwPlRoaXMgcGFzc3dvcmQgcmVzZXQgbGluayB3aWxsIGV4cGlyZSBpbiAxIGhvdXIgZm9yIHNlY3VyaXR5IHB1cnBvc2VzLjwvcD5cbiAgICAgICAgICBcbiAgICAgICAgICA8cD48c3Ryb25nPklmIHlvdSBkaWRuJ3QgcmVxdWVzdCB0aGlzIHBhc3N3b3JkIHJlc2V0LCBwbGVhc2UgaWdub3JlIHRoaXMgZW1haWwuPC9zdHJvbmc+IFlvdXIgcGFzc3dvcmQgd2lsbCByZW1haW4gdW5jaGFuZ2VkLjwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9vdGVyXCI+XG4gICAgICAgICAgPHA+VGhpcyBlbWFpbCB3YXMgc2VudCBieSBNTlNUUyBJbnZlbnRvcnkgTWFuYWdlbWVudCBTeXN0ZW08L3A+XG4gICAgICAgICAgPHA+SWYgeW91IGhhdmUgYW55IHF1ZXN0aW9ucywgcGxlYXNlIGNvbnRhY3QgeW91ciBzeXN0ZW0gYWRtaW5pc3RyYXRvci48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9ib2R5PlxuICAgIDwvaHRtbD5cbiAgYFxufSJdLCJuYW1lcyI6WyJub2RlbWFpbGVyIiwidHJhbnNwb3J0ZXIiLCJjcmVhdGVUcmFuc3BvcnQiLCJzZXJ2aWNlIiwiYXV0aCIsInVzZXIiLCJwcm9jZXNzIiwiZW52IiwiR01BSUxfVVNFUiIsInBhc3MiLCJHTUFJTF9QQVNTV09SRCIsInNlbmRFbWFpbCIsInRvIiwic3ViamVjdCIsImh0bWwiLCJzZW5kTWFpbCIsImZyb20iLCJzdWNjZXNzIiwiZXJyb3IiLCJjb25zb2xlIiwiZ2V0QWRtaW5WZXJpZmljYXRpb25FbWFpbFRlbXBsYXRlIiwidXNlckRldGFpbHMiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImVtYWlsIiwidmVyaWZpY2F0aW9uVG9rZW4iLCJ2ZXJpZmljYXRpb25VcmwiLCJORVhUQVVUSF9VUkwiLCJEYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwieWVhciIsIm1vbnRoIiwiZGF5IiwiaG91ciIsIm1pbnV0ZSIsImdldFZlcmlmaWNhdGlvbkVtYWlsVGVtcGxhdGUiLCJnZXRMb3dTdG9ja0FsZXJ0RW1haWxUZW1wbGF0ZSIsImxvd1N0b2NrSXRlbXMiLCJsZW5ndGgiLCJtYXAiLCJpdGVtIiwibmFtZSIsInNrdSIsImNhdGVnb3J5IiwiY3VycmVudFN0b2NrIiwibWluU3RvY2siLCJzaG9ydGFnZSIsImpvaW4iLCJzZW5kTG93U3RvY2tBbGVydCIsInByaXNtYSIsInVzZXJzIiwiZmluZE1hbnkiLCJ3aGVyZSIsImlzVmVyaWZpZWQiLCJzZWxlY3QiLCJsb2ciLCJlbWFpbFByb21pc2VzIiwicmVzdWx0cyIsIlByb21pc2UiLCJhbGxTZXR0bGVkIiwic3VjY2Vzc2Z1bCIsImZpbHRlciIsInJlc3VsdCIsInN0YXR1cyIsInZhbHVlIiwiZmFpbGVkIiwibWVzc2FnZSIsInN0YXRzIiwidG90YWwiLCJnZXRQYXNzd29yZFJlc2V0RW1haWxUZW1wbGF0ZSIsInJlc2V0VG9rZW4iLCJyZXNldFVybCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/email.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/prisma.ts":
/*!***************************!*\
  !*** ./src/lib/prisma.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    log: [\n        'query'\n    ]\n});\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3ByaXNtYS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBNkM7QUFFN0MsTUFBTUMsa0JBQWtCQztBQUlqQixNQUFNQyxTQUNYRixnQkFBZ0JFLE1BQU0sSUFDdEIsSUFBSUgsd0RBQVlBLENBQUM7SUFDZkksS0FBSztRQUFDO0tBQVE7QUFDaEIsR0FBRTtBQUVKLElBQUlDLElBQXFDLEVBQUVKLGdCQUFnQkUsTUFBTSxHQUFHQSIsInNvdXJjZXMiOlsiRDpcXDNSRCBZRUFSXFxjdlxcZnJlZWxhbmNlXFxNTlNUUy1JTVNcXHNyY1xcbGliXFxwcmlzbWEudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnXG5cbmNvbnN0IGdsb2JhbEZvclByaXNtYSA9IGdsb2JhbFRoaXMgYXMgdW5rbm93biBhcyB7XG4gIHByaXNtYTogUHJpc21hQ2xpZW50IHwgdW5kZWZpbmVkXG59XG5cbmV4cG9ydCBjb25zdCBwcmlzbWEgPVxuICBnbG9iYWxGb3JQcmlzbWEucHJpc21hID8/XG4gIG5ldyBQcmlzbWFDbGllbnQoe1xuICAgIGxvZzogWydxdWVyeSddLFxuICB9KVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA9IHByaXNtYSJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwicHJpc21hIiwibG9nIiwicHJvY2VzcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/prisma.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "./work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

"use strict";
module.exports = require("@prisma/client");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "child_process":
/*!********************************!*\
  !*** external "child_process" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("child_process");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "dns":
/*!**********************!*\
  !*** external "dns" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("dns");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/semver","vendor-chunks/bcryptjs","vendor-chunks/jsonwebtoken","vendor-chunks/lodash.includes","vendor-chunks/jws","vendor-chunks/lodash.once","vendor-chunks/jwa","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/lodash.isplainobject","vendor-chunks/ms","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time","vendor-chunks/nodemailer"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fstock-movements%2Froute&page=%2Fapi%2Fstock-movements%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fstock-movements%2Froute.ts&appDir=D%3A%5C3RD%20YEAR%5Ccv%5Cfreelance%5CMNSTS-IMS%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5C3RD%20YEAR%5Ccv%5Cfreelance%5CMNSTS-IMS&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();